# ğŸ“‹ Schoolverse_1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶å®šç¾©æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ22æ—¥  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰**: schoolverse_1  
**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¨®åˆ¥**: è¦ä»¶å®šç¾©æ›¸ (Functional Specification Document)

---

## è§£æ±ºã™ã‚‹èª²é¡Œ (v2.0 æ‹¡å¼µ)

`
é€šå­¦å›°é›£ãªç”Ÿå¾’(æ…¢æ€§ç–¾æ‚£ãƒ»ä¸ç™»æ ¡ãƒ»é éš”åœ°)ãŒ
â†“
ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 3Dç©ºé–“ã§å­¦ç¿’ãƒ»äº¤æµ
â†“
ç¶™ç¶šçš„ãªæ•™è‚²æ©Ÿä¼š + ãƒ¡ãƒ³ã‚¿ãƒ«ã‚µãƒãƒ¼ãƒˆ + ç¤¾ä¼šæ€§è‚²æˆ
â†“ (v2.0 æ–°æ©Ÿèƒ½)
ãƒ“ãƒ‡ã‚ªä¼šè­°æˆæ¥­ + èª²é¡Œæå‡ºãƒ»æ¡ç‚¹ + å¤šåˆ†é‡ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ 
`

### 1.2 v2.0 æ–°æ©Ÿèƒ½ã‚µãƒãƒªãƒ¼

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | æä¾›ä¾¡å€¤ | å„ªå…ˆåº¦ |
|-------------|----------|--------|
| **ãƒ“ãƒ‡ã‚ªä¼šè­°ã‚·ã‚¹ãƒ†ãƒ ** | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æˆæ¥­ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—å­¦ç¿’ | ğŸ”´ Must Have |
| **èª²é¡Œæå‡ºãƒ»æ¡ç‚¹** | å­¦ç¿’è©•ä¾¡ã®è‡ªå‹•åŒ–ãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ | ğŸŸ¡ Should Have |
| **å¤šåˆ†é‡ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ** | æ•°å­¦ãƒ»å›½èªãƒ»ç†ç§‘ãƒ»ç¤¾ä¼šãƒ»è‹±èªãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç­‰ | ğŸŸ¡ Should Have |

### 1.3 æŠ€è¡“çš„ç‰¹å¾´(æ‹¡å¼µç‰ˆ)

- **3Dãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ**: Three.js + Socket.io
- **ãƒ“ãƒ‡ã‚ªä¼šè­°**: WebRTC (éŸ³å£°+ãƒ“ãƒ‡ã‚ªå¤šäººæ•°å¯¾å¿œ)
- **è¿‘æ¥éŸ³å£°é€šè©±**: WebRTC P2Pé€šä¿¡
- **èª²é¡Œç®¡ç†**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ + è‡ªå‹•æ¡ç‚¹(AIé€£æº)
- **ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã‚¨ãƒ³ã‚¸ãƒ³**: åˆ†é‡åˆ¥ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†
- **ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: çµŒé¨“å€¤ãƒ»ãƒãƒƒã‚¸ãƒ»ã‚¯ã‚¨ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ 
- **æ„Ÿæƒ…ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°**: MindGarden (æ—¥è¨˜+ã‚°ãƒ©ãƒ•å¯è¦–åŒ–)
- **å®Œå…¨ç„¡æ–™é‹ç”¨**: Vercel + Render + Supabase (ç„¡æ–™æ )

---

## 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 2.1 åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå** | EduVerse (ã‚¨ãƒ‡ãƒ¥ãƒãƒ¼ã‚¹) |
| **ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«** | 3D Metaverse Comprehensive Learning Platform |
| **é–‹ç™ºæœŸé–“** | 2025å¹´10æœˆã€œ2026å¹´6æœˆ (8ãƒ¶æœˆ) â† å»¶é•· |
| **ãƒ•ã‚§ãƒ¼ã‚º** | Phase 1: MVP â†’ Phase 2: ãƒ“ãƒ‡ã‚ªä¼šè­° â†’ Phase 3: èª²é¡Œãƒ»ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ  |
| **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹** | MIT License (ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹äºˆå®š) |

### 2.2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚³ãƒ¼ãƒ— v2.0

#### âœ… å«ã¾ã‚Œã‚‹ã‚‚ã® (In Scope)
`
ã€Phase 1: åŸºæœ¬æ©Ÿèƒ½ (v1.0)ã€‘
âœ… 3Dä»®æƒ³æ•™å®¤ãƒ»ã‚®ãƒ£ãƒ©ãƒªãƒ¼ãƒ»å…¬åœ’ã®å®Ÿè£…
âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¢ãƒã‚¿ãƒ¼ç§»å‹•ã‚·ã‚¹ãƒ†ãƒ 
âœ… è¿‘æ¥éŸ³å£°é€šè©±(WebRTC P2P)
âœ… ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ£ãƒƒãƒˆ(å…¨ä½“ãƒ»DM)
âœ… å‡ºå¸­ãƒ»å­¦ç¿’æ™‚é–“è¨˜éŒ²
âœ… æ„Ÿæƒ…ãƒ»ä½“èª¿ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
âœ… ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³(çµŒé¨“å€¤ãƒ»ãƒãƒƒã‚¸ãƒ»ã‚¯ã‚¨ã‚¹ãƒˆ)
âœ… ç”Ÿå¾’ç”¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
âœ… æ•™å¸«ãƒ»æ”¯æ´è€…ç”¨ç®¡ç†ç”»é¢

ã€Phase 2: ãƒ“ãƒ‡ã‚ªä¼šè­°æ©Ÿèƒ½ (v2.0 NEW)ã€‘
âœ… ã‚°ãƒ«ãƒ¼ãƒ—ãƒ“ãƒ‡ã‚ªé€šè©±(æœ€å¤§20äºº)
âœ… ç”»é¢å…±æœ‰æ©Ÿèƒ½
âœ… ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰æ©Ÿèƒ½
âœ… éŒ²ç”»æ©Ÿèƒ½(æ•™å¸«ã®ã¿)
âœ… æˆæ¥­ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†
âœ… ä»®æƒ³æ•™å®¤ã§ã®æˆæ¥­é–‹å‚¬

ã€Phase 3: èª²é¡Œãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ  (v2.0 NEW)ã€‘
âœ… èª²é¡Œä½œæˆãƒ»é…å¸ƒ
âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰(PDF/Word/ç”»åƒ)
âœ… æå‡ºæœŸé™ç®¡ç†
âœ… æ¡ç‚¹ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
âœ… è‡ªå‹•æ¡ç‚¹(é¸æŠå¼å•é¡Œ)
âœ… AIæ¡ç‚¹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ(è¨˜è¿°å¼)
âœ… æˆç¸¾é›†è¨ˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆ

ã€Phase 4: ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ç®¡ç† (v2.0 NEW)ã€‘
âœ… åˆ†é‡åˆ¥ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†
   â”œâ”€ æ•°å­¦(å°å­¦ã€œé«˜æ ¡)
   â”œâ”€ å›½èª(èª­è§£ãƒ»ä½œæ–‡)
   â”œâ”€ ç†ç§‘(å®Ÿé¨“å‹•ç”»å«ã‚€)
   â”œâ”€ ç¤¾ä¼š(åœ°ç†ãƒ»æ­´å²)
   â”œâ”€ è‹±èª(ãƒªã‚¹ãƒ‹ãƒ³ã‚°å«ã‚€)
   â”œâ”€ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°(Scratch/Python)
   â”œâ”€ èŠ¸è¡“(éŸ³æ¥½ãƒ»ç¾è¡“)
   â””â”€ ä½“è‚²(è‡ªå®…ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚º)
âœ… å­¦ç¿’é€²æ—ç®¡ç†
âœ… æ¨å¥¨å­¦ç¿’ãƒ‘ã‚¹
âœ… å¾©ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
âœ… ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰(æ•™å¸«)

ã€Phase 5: ã‚¤ãƒ³ãƒ•ãƒ©ã€‘
âœ… Dockeré–‹ç™ºç’°å¢ƒ
âœ… Vercel + Render ãƒ‡ãƒ—ãƒ­ã‚¤
âœ… CI/CD (GitHub Actions)
`

#### âŒ å«ã¾ã‚Œãªã„ã‚‚ã® (Out of Scope)
`
âŒ ãƒ¢ãƒã‚¤ãƒ«ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒª(Web PWAå¯¾å¿œã®ã¿)
âŒ VRãƒ˜ãƒƒãƒ‰ã‚»ãƒƒãƒˆå¯¾å¿œ(å°†æ¥æ¤œè¨)
âŒ æ±ºæ¸ˆæ©Ÿèƒ½(å®Œå…¨ç„¡æ–™)
âŒ ä¿è­·è€…å‘ã‘å°‚ç”¨ã‚¢ãƒ—ãƒª(Webã§é–²è¦§å¯)
`

---

### 2.3 WBS (v2.0 åŸºæº–)

| WBS ID | ãƒ•ã‚§ãƒ¼ã‚º | ä¸»ã‚¿ã‚¹ã‚¯ | æ‹…å½“ãƒ­ãƒ¼ãƒ« | æœŸé–“(ç›®å®‰) | å®Œäº†æ¡ä»¶ |
|--------|----------|-----------|------------|-------------|-----------|
| 1.1 | Phase 1 | èªè¨¼åŸºç›¤ãƒªãƒ•ã‚¡ã‚¤ãƒ³ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ | Backend Lead | 2025-10 | API v2å¯©æŸ»é€šéãƒ»ä»•æ§˜ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº† |
| 1.2 | Phase 1 | 3Dç©ºé–“ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã¨ã‚½ã‚±ãƒƒãƒˆæœ€é©åŒ– | Metaverse Team | 2025-11 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™(60FPS)é”æˆ |
| 2.1 | Phase 2 | ãƒ“ãƒ‡ã‚ªä¼šè­°SFUæ§‹ç¯‰(WebRTC/mediasoup) | RTC Team | 2025-12ã€œ2026-01 | 20äººé€šè©±è² è·ãƒ†ã‚¹ãƒˆåˆæ ¼ |
| 2.2 | Phase 2 | æˆæ¥­ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«/éŒ²ç”»ç®¡ç†UI | Frontend Team | 2026-01 | æ•™å¸«å‘ã‘UXãƒ¬ãƒ“ãƒ¥ãƒ¼æ‰¿èª |
| 3.1 | Phase 3 | èª²é¡Œæå‡ºAPIãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è¨­è¨ˆ | Backend Team | 2026-02 | æå‡ºâ†’æ¡ç‚¹ãƒ•ãƒ­ãƒ¼ã®çµ±åˆãƒ†ã‚¹ãƒˆåˆæ ¼ |
| 3.2 | Phase 3 | è‡ªå‹•æ¡ç‚¹ã‚¨ãƒ³ã‚¸ãƒ³ & AIæ¡ç‚¹ã‚¢ã‚·ã‚¹ãƒˆ | AI/ML Team | 2026-02ã€œ03 | æ–°æ—§æ¡ç‚¹å·®åˆ†5%ä»¥å†… |
| 4.1 | Phase 4 | ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ CMSãƒ»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ Pipeline | Curriculum Team | 2026-03 | 7åˆ†é‡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç™»éŒ²å®Œäº† |
| 4.2 | Phase 4 | å­¦ç¿’é€²æ— & æ¨å¥¨ãƒ‘ã‚¹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  | Data Team | 2026-04 | æ¨å¥¨ç²¾åº¦80%ä»¥ä¸Š (æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿) |
| 5.1 | Phase 5 | ã‚¤ãƒ³ãƒ•ãƒ©IaC / CI æ‹¡å¼µ | DevOps | 2025-10ã€œç¶™ç¶š | GitHub Actions + ç›£è¦–åŸºç›¤ç¨¼åƒ |
| 5.2 | Phase 5 | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ & æ³•å‹™ãƒ¬ãƒ“ãƒ¥ãƒ¼ | PM/Compliance | 2026-05 | Pen-test & å€‹äººæƒ…å ±ä¿è­·ãƒã‚§ãƒƒã‚¯åˆæ ¼ |

### 2.4 é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— (ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆæ¦‚è¦)

| æœŸé–“ | ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | ä¸»ãªæˆæœç‰© | ä¾å­˜é–¢ä¿‚ |
|------|----------------|------------|-----------|
| 2025-10ã€œ11 | Phase 1 Hardening | èªè¨¼ãƒ»3Dç©ºé–“ã®æ€§èƒ½/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè£œå¼·ã€Moodãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°æ”¹å–„ | æ—¢å­˜MVP |
| 2025-12ã€œ2026-01 | Phase 2 Beta | ã‚°ãƒ«ãƒ¼ãƒ—ãƒ“ãƒ‡ã‚ªãƒ»ç”»é¢å…±æœ‰ãƒ»éŒ²ç”»ã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰Î² | Phase1å®Œäº† |
| 2026-02ã€œ03 | Phase 3 Alpha | èª²é¡Œæå‡º/æ¡ç‚¹ã€AIæ¡ç‚¹ã‚¢ã‚·ã‚¹ãƒˆ PoC | Phase2æ©Ÿèƒ½å®‰å®š |
| 2026-03ã€œ04 | Phase 4 Pilot | ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ CMS+é€²æ—è¿½è·¡ã€æ¨å¥¨å­¦ç¿’ãƒ‘ã‚¹ | Phase3ã®èª²é¡Œã‚·ã‚¹ãƒ†ãƒ  |
| 2026-05 | Phase 5 Release Candidate | ã‚¤ãƒ³ãƒ•ãƒ©æ•´å‚™ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã€æ•™å¸«/ç”Ÿå¾’å‘ã‘ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è³‡æ–™ | Phase1ã€œ4å®Œäº† |
| 2026-06 | GA ãƒªãƒªãƒ¼ã‚¹ | EduVerse v2.0 å…¬é–‹ã€æ”¯æ´è‡ªæ²»ä½“/å­¦æ ¡ã¸ã®å±•é–‹ | å…¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³é”æˆ |
## 3. ç›®çš„ã¨èƒŒæ™¯

### 3.1 èƒŒæ™¯åˆ†æ

#### 3.1.1 ç¤¾ä¼šçš„èƒŒæ™¯
`
ã€æ—¥æœ¬ã®æ•™è‚²èª²é¡Œã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸ç™»æ ¡ç”Ÿå¾’æ•°: ç´„29.9ä¸‡äºº (2022å¹´åº¦)   â”‚
â”‚ å‰å¹´æ¯”22.1%å¢—åŠ  - éå»æœ€å¤š           â”‚
â”‚                                     â”‚
â”‚ é•·æœŸæ¬ å¸­ç†ç”±:                        â”‚
â”‚ â”œâ”€ ç„¡æ°—åŠ›ãƒ»ä¸å®‰: 49.7%              â”‚
â”‚ â”œâ”€ ã„ã˜ã‚ä»¥å¤–ã®å‹äººé–¢ä¿‚: 11.5%       â”‚
â”‚ â”œâ”€ ç”Ÿæ´»ãƒªã‚ºãƒ ã®ä¹±ã‚Œ: 11.7%           â”‚
â”‚ â””â”€ ç—…æ°—(æ…¢æ€§ç–¾æ‚£å«ã‚€): 7.2%         â”‚
â”‚                                     â”‚
â”‚ å‡ºå…¸: æ–‡éƒ¨ç§‘å­¦çœã€Œä»¤å’Œ4å¹´åº¦èª¿æŸ»ã€    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ•™è‚²ã®èª²é¡Œã€‘
âŒ ä¸€æ–¹é€šè¡Œã®å‹•ç”»æˆæ¥­ â†’ åŒæ–¹å‘æ€§ã®æ¬ å¦‚
âŒ å­¤ç‹¬æ„Ÿãƒ»ç–å¤–æ„Ÿ â†’ ãƒ¡ãƒ³ã‚¿ãƒ«ã‚±ã‚¢ä¸è¶³
âŒ èª²é¡Œç®¡ç†ã®ç…©é›‘ã• â†’ æå‡ºãƒ»è©•ä¾¡ã®éåŠ¹ç‡
âŒ å­¦ç¿’é€²æ—ã®ä¸é€æ˜ã• â†’ å€‹åˆ¥æœ€é©åŒ–å›°é›£
`

---
## ğŸ“‘ ç›®æ¬¡

1. [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¦‚è¦](#ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¦‚è¦)
2. [æ®µéšçš„æ€è€ƒã«ã‚ˆã‚‹è¦ä»¶åˆ†è§£](#æ®µéšçš„æ€è€ƒã«ã‚ˆã‚‹è¦ä»¶åˆ†è§£)
3. [é€†ç®—æ€è€ƒã«ã‚ˆã‚‹å®Ÿè£…æˆ¦ç•¥](#é€†ç®—æ€è€ƒã«ã‚ˆã‚‹å®Ÿè£…æˆ¦ç•¥)
4. [ãƒ¡ã‚¿æ€è€ƒã«ã‚ˆã‚‹è¨­è¨ˆåˆ¤æ–­](#ãƒ¡ã‚¿æ€è€ƒã«ã‚ˆã‚‹è¨­è¨ˆåˆ¤æ–­)
5. [ãƒ„ãƒªãƒ¼æ§‹é€ ã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚](#ãƒ„ãƒªãƒ¼æ§‹é€ ã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚)
6. [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°](#ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°)
7. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
8. [APIä»•æ§˜](#apiä»•æ§˜)
9. [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ](#ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ)
10. [ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡è¨­è¨ˆ](#ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡è¨­è¨ˆ)
11. [çŠ¶æ…‹ç®¡ç†è¨­è¨ˆ](#çŠ¶æ…‹ç®¡ç†è¨­è¨ˆ)
12. [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥](#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥)
13. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…](#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…)
14. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)
15. [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
16. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥](#ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥)

---

## ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¦‚è¦

### ç›®çš„

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ŒSchoolverse_1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ±‚å®šç¾©æ›¸ v2.0.0ã€ã§å®šç¾©ã•ã‚ŒãŸè¦æ±‚ã‚’ã€å®Ÿè£…å¯èƒ½ãªæŠ€è¡“è¦ä»¶ã«è½ã¨ã—è¾¼ã‚“ã ã‚‚ã®ã§ã™ã€‚

### å¯¾è±¡èª­è€…

- é–‹ç™ºè€…(ã‚ãªãŸ)
- å°†æ¥çš„ãªå”åŠ›é–‹ç™ºè€…
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼

### ä½¿ã„æ–¹

1. å®Ÿè£…å‰ã«è©²å½“ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç†Ÿèª­
2. è¨­è¨ˆã®æ„å›³ã¨åˆ¶ç´„ã‚’ç†è§£
3. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã£ã¦å®Ÿè£…
4. ãƒ†ã‚¹ãƒˆè¦ä»¶ã‚’æº€ãŸã™ã“ã¨ã‚’ç¢ºèª

---

## ğŸ”„ æ®µéšçš„æ€è€ƒã«ã‚ˆã‚‹è¦ä»¶åˆ†è§£

### ãƒ¬ãƒ™ãƒ«1: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
Schoolverse_1 ã‚·ã‚¹ãƒ†ãƒ 
â”‚
â”œâ”€â”€ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å±¤ (Next.js 15 + React 19)
â”‚   â”œâ”€â”€ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”œâ”€â”€ ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
â”‚   â””â”€â”€ ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚
â”œâ”€â”€ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å±¤ (Next.js API Routes)
â”‚   â”œâ”€â”€ APIå±¤
â”‚   â”œâ”€â”€ ã‚µãƒ¼ãƒ“ã‚¹å±¤
â”‚   â””â”€â”€ ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚
â”œâ”€â”€ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡å±¤ (Socket.io + WebRTC)
â”‚   â”œâ”€â”€ Socket.ioã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ WebRTCã‚·ã‚°ãƒŠãƒªãƒ³ã‚°
â”‚   â””â”€â”€ ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†
â”‚
â”œâ”€â”€ ãƒ‡ãƒ¼ã‚¿å±¤
â”‚   â”œâ”€â”€ PostgreSQL (æ°¸ç¶šåŒ–ãƒ‡ãƒ¼ã‚¿)
â”‚   â””â”€â”€ Redis (ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³)
â”‚
â””â”€â”€ ã‚¤ãƒ³ãƒ•ãƒ©å±¤
    â”œâ”€â”€ Docker Compose (é–‹ç™ºç’°å¢ƒ)
    â”œâ”€â”€ Vercel (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ¬ç•ª)
    â””â”€â”€ Render/Railway (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æœ¬ç•ª)
```

### ãƒ¬ãƒ™ãƒ«2: å„å±¤ã®è©³ç´°åˆ†è§£

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å±¤ã®åˆ†è§£

```
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚
â”œâ”€â”€ 1. ãƒšãƒ¼ã‚¸å±¤ (app/)
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â””â”€â”€ signup/page.tsx
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ world/page.tsx
â”‚   â””â”€â”€ api/ (API Routes)
â”‚
â”œâ”€â”€ 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå±¤ (components/)
â”‚   â”œâ”€â”€ ui/ (shadcn/ui)
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â””â”€â”€ Card.tsx
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ world/
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â””â”€â”€ voice/
â”‚   â””â”€â”€ layout/
â”‚       â”œâ”€â”€ Header.tsx
â”‚       â””â”€â”€ Sidebar.tsx
â”‚
â”œâ”€â”€ 3. çŠ¶æ…‹ç®¡ç†å±¤ (stores/)
â”‚   â”œâ”€â”€ authStore.ts (Zustand)
â”‚   â”œâ”€â”€ worldStore.ts
â”‚   â”œâ”€â”€ chatStore.ts
â”‚   â””â”€â”€ voiceStore.ts
â”‚
â”œâ”€â”€ 4. ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤ (lib/)
â”‚   â”œâ”€â”€ canvas/
â”‚   â”‚   â”œâ”€â”€ CanvasRenderer.ts
â”‚   â”‚   â”œâ”€â”€ AvatarManager.ts
â”‚   â”‚   â””â”€â”€ CollisionDetector.ts
â”‚   â”œâ”€â”€ socket/
â”‚   â”‚   â”œâ”€â”€ SocketManager.ts
â”‚   â”‚   â””â”€â”€ EventHandlers.ts
â”‚   â””â”€â”€ webrtc/
â”‚       â”œâ”€â”€ RTCManager.ts
â”‚       â””â”€â”€ SignalingHandler.ts
â”‚
â””â”€â”€ 5. å‹å®šç¾©å±¤ (types/)
    â”œâ”€â”€ api.types.ts
    â”œâ”€â”€ socket.types.ts
    â”œâ”€â”€ world.types.ts
    â””â”€â”€ user.types.ts
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å±¤ã®åˆ†è§£

```
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚
â”œâ”€â”€ 1. APIå±¤ (app/api/)
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ login/route.ts
â”‚   â”‚   â”œâ”€â”€ signup/route.ts
â”‚   â”‚   â””â”€â”€ refresh/route.ts
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ [id]/route.ts
â”‚   â”‚   â””â”€â”€ me/route.ts
â”‚   â”œâ”€â”€ messages/
â”‚   â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚   â””â”€â”€ [roomId]/route.ts
â”‚   â””â”€â”€ rooms/
â”‚       â””â”€â”€ route.ts
â”‚
â”œâ”€â”€ 2. ã‚µãƒ¼ãƒ“ã‚¹å±¤ (services/)
â”‚   â”œâ”€â”€ authService.ts
â”‚   â”œâ”€â”€ userService.ts
â”‚   â”œâ”€â”€ messageService.ts
â”‚   â””â”€â”€ roomService.ts
â”‚
â”œâ”€â”€ 3. ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ (repositories/)
â”‚   â”œâ”€â”€ userRepository.ts
â”‚   â”œâ”€â”€ messageRepository.ts
â”‚   â””â”€â”€ roomRepository.ts
â”‚
â”œâ”€â”€ 4. ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å±¤ (middleware/)
â”‚   â”œâ”€â”€ authMiddleware.ts
â”‚   â”œâ”€â”€ validationMiddleware.ts
â”‚   â”œâ”€â”€ errorHandler.ts
â”‚   â””â”€â”€ rateLimiter.ts
â”‚
â””â”€â”€ 5. ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å±¤ (utils/)
    â”œâ”€â”€ jwt.ts
    â”œâ”€â”€ bcrypt.ts
    â”œâ”€â”€ validation.ts
    â””â”€â”€ logger.ts
```

### ãƒ¬ãƒ™ãƒ«3: æ©Ÿèƒ½å˜ä½ã®è©³ç´°åˆ†è§£

#### èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®è©³ç´°

```
èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 
â”‚
â”œâ”€â”€ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ 1. ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”œâ”€â”€ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ (Zod)
â”‚   â”‚   â”œâ”€â”€ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹
â”‚   â”‚
â”‚   â”œâ”€â”€ 2. ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”œâ”€â”€ å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡UI
â”‚   â”‚
â”‚   â””â”€â”€ 3. èªè¨¼çŠ¶æ…‹ç®¡ç†
â”‚       â”œâ”€â”€ ãƒˆãƒ¼ã‚¯ãƒ³ä¿å­˜ (httpOnly Cookie)
â”‚       â”œâ”€â”€ ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³å‡¦ç†
â”‚       â””â”€â”€ è‡ªå‹•ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
â”‚
â”œâ”€â”€ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ 1. ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—API
â”‚   â”‚   â”œâ”€â”€ å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ é‡è¤‡ãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ– (bcrypt)
â”‚   â”‚   â””â”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ 2. ãƒ­ã‚°ã‚¤ãƒ³API
â”‚   â”‚   â”œâ”€â”€ èªè¨¼æƒ…å ±æ¤œè¨¼
â”‚   â”‚   â”œâ”€â”€ JWT ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ Cookieè¨­å®š
â”‚   â”‚
â”‚   â””â”€â”€ 3. ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥API
â”‚       â”œâ”€â”€ ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
â”‚       â”œâ”€â”€ æ–°è¦ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
â”‚       â””â”€â”€ Cookieæ›´æ–°
â”‚
â””â”€â”€ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
    â””â”€â”€ User ãƒ†ãƒ¼ãƒ–ãƒ«
        â”œâ”€â”€ id (UUID)
        â”œâ”€â”€ email (UNIQUE)
        â”œâ”€â”€ passwordHash
        â”œâ”€â”€ username
        â”œâ”€â”€ createdAt
        â””â”€â”€ updatedAt
```

---

## ğŸ¯ é€†ç®—æ€è€ƒã«ã‚ˆã‚‹å®Ÿè£…æˆ¦ç•¥

### æœ€çµ‚ç›®æ¨™: æœ¬ç•ªé‹ç”¨å¯èƒ½ãªMVP

```
æœ¬ç•ªç’°å¢ƒã§50åãŒåŒæ™‚åˆ©ç”¨ã§ãã‚‹çŠ¶æ…‹
â”‚
â””â”€ å¿…è¦æ¡ä»¶: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»å®‰å®šæ€§ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æ‹…ä¿
   â”‚
   â””â”€ å¿…è¦æ¡ä»¶: åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã®å®Ÿæ–½
      â”‚
      â””â”€ å¿…è¦æ¡ä»¶: å…¨æ©Ÿèƒ½ã®çµ±åˆå®Œäº†
         â”‚
         â””â”€ å¿…è¦æ¡ä»¶: å„æ©Ÿèƒ½ã®å€‹åˆ¥å®Ÿè£…å®Œäº†
            â”‚
            â””â”€ å¿…è¦æ¡ä»¶: è©³ç´°è¨­è¨ˆã®å®Œäº†
               â”‚
               â””â”€ **ç¾åœ¨ä½ç½®: è¦ä»¶å®šç¾©æ›¸ã®ä½œæˆ** âœ…
```

### å®Ÿè£…é †åºã®æ±ºå®š (é€†ç®—ãƒ™ãƒ¼ã‚¹)

#### Phase 1: åŸºç›¤æ§‹ç¯‰ (Week 1-2)

**ç›®æ¨™**: é–‹ç™ºç’°å¢ƒã¨åŸºæœ¬æ§‹é€ ã®ç¢ºç«‹

```
æœ€çµ‚çŠ¶æ…‹: èªè¨¼ãŒå‹•ä½œã—ã€åŸºæœ¬çš„ãªãƒšãƒ¼ã‚¸é·ç§»ãŒå¯èƒ½
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®çµ±åˆ
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—3: èªè¨¼APIã®å®Ÿè£…
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®ä½œæˆ
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ä½œæˆ
```

**å…·ä½“çš„ã‚¿ã‚¹ã‚¯**:
1. Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
2. TypeScriptè¨­å®š
3. Prisma ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
4. Docker Compose è¨­å®š
5. å…±é€šå‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
6. èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
7. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š

#### Phase 2: ä»®æƒ³ç©ºé–“å®Ÿè£… (Week 3-5)

**ç›®æ¨™**: 1ã¤ã®ä»®æƒ³ç©ºé–“ã§ã‚¢ãƒã‚¿ãƒ¼ç§»å‹•ã¨è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæœŸ

```
æœ€çµ‚çŠ¶æ…‹: è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒã˜ç©ºé–“ã§äº’ã„ã®ã‚¢ãƒã‚¿ãƒ¼ã‚’è¦‹ãªãŒã‚‰ç§»å‹•
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—5: ä½ç½®åŒæœŸã®æœ€é©åŒ–
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—4: Socket.ioã§ã®ä½ç½®åŒæœŸ
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—3: ã‚¢ãƒã‚¿ãƒ¼ç§»å‹•ãƒ­ã‚¸ãƒƒã‚¯
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—2: Canvasæç”»ã‚·ã‚¹ãƒ†ãƒ 
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—1: ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã®å®Ÿè£…
```

**å…·ä½“çš„ã‚¿ã‚¹ã‚¯**:
1. CanvasåˆæœŸåŒ–ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—
2. ã‚¿ã‚¤ãƒ«ãƒãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ 
3. ã‚¢ãƒã‚¿ãƒ¼æç”»ã‚·ã‚¹ãƒ†ãƒ 
4. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›å‡¦ç†
5. è¡çªæ¤œçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
6. Socket.ioçµ±åˆ
7. ä½ç½®åŒæœŸã‚¤ãƒ™ãƒ³ãƒˆå®Ÿè£…

#### Phase 3: ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ (Week 6-8)

**ç›®æ¨™**: ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ£ãƒƒãƒˆã¨éŸ³å£°é€šè©±ã®å®Ÿè£…

```
æœ€çµ‚çŠ¶æ…‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒå£«ãŒãƒ†ã‚­ã‚¹ãƒˆã¨éŸ³å£°ã§ä¼šè©±å¯èƒ½
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—6: è¿‘æ¥ãƒ™ãƒ¼ã‚¹è‡ªå‹•é€šè©±
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—5: WebRTCéŸ³å£°é€šè©±
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—4: ãƒãƒ£ãƒƒãƒˆå±¥æ­´ã®æ°¸ç¶šåŒ–
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ«ãƒ¼ãƒ ãƒãƒ£ãƒƒãƒˆã®å®Ÿè£…
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—2: Socket.ioãƒãƒ£ãƒƒãƒˆã‚¤ãƒ™ãƒ³ãƒˆ
  â†‘
ã‚¹ãƒ†ãƒƒãƒ—1: ãƒãƒ£ãƒƒãƒˆUIå®Ÿè£…
```

---

## ğŸ§  ãƒ¡ã‚¿æ€è€ƒã«ã‚ˆã‚‹è¨­è¨ˆåˆ¤æ–­

### è¨­è¨ˆåŸå‰‡ã®ä¿¯ç°

#### 1. ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’æ„è­˜ã—ãŸè¨­è¨ˆ

**åˆ¤æ–­åŸºæº–**:
```
ç¾åœ¨ã®è¦æ±‚: 50ååŒæ™‚æ¥ç¶š
å°†æ¥ã®å¯èƒ½æ€§: 500ååŒæ™‚æ¥ç¶š

è¨­è¨ˆã®é¸æŠ:
âœ… æ¡ç”¨: Redis Adapter (æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯èƒ½)
âœ… æ¡ç”¨: çŠ¶æ…‹ã®åˆ†é›¢ (ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹è¨­è¨ˆ)
âœ… æ¡ç”¨: CDNæ´»ç”¨ (é™çš„ã‚¢ã‚»ãƒƒãƒˆé…ä¿¡)
âŒ ä¸æ¡ç”¨: ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªçŠ¶æ…‹ç®¡ç†ã®ã¿ (ã‚¹ã‚±ãƒ¼ãƒ«ã—ãªã„)
```

**å®Ÿè£…ã¸ã®å½±éŸ¿**:
- Socket.ioã‚µãƒ¼ãƒãƒ¼ã¯Redis Adapterã‚’ä½¿ç”¨
- ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã¯Redisã«ä¿å­˜
- ãƒ¦ãƒ¼ã‚¶ãƒ¼çŠ¶æ…‹ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ç®¡ç†
- WebRTCæ¥ç¶šã¯P2Pã§ç›´æ¥ç¢ºç«‹

#### 2. ä¿å®ˆæ€§ã‚’é‡è¦–ã—ãŸæ§‹é€ 

**åˆ¤æ–­åŸºæº–**:
```
é–‹ç™ºè€…: 1åï¼ˆç¾åœ¨ï¼‰â†’ è¤‡æ•°åï¼ˆå°†æ¥ï¼‰
ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å¯¿å‘½: 1å¹´ä»¥ä¸Š

è¨­è¨ˆã®é¸æŠ:
âœ… æ¡ç”¨: TypeScript (å‹å®‰å…¨æ€§)
âœ… æ¡ç”¨: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢ (è²¬ä»»ã®æ˜ç¢ºåŒ–)
âœ… æ¡ç”¨: å…±é€šå‹å®šç¾© (ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµ±ä¸€)
âœ… æ¡ç”¨: JSDocã‚³ãƒ¡ãƒ³ãƒˆ (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŸ‹ã‚è¾¼ã¿)
âŒ ä¸æ¡ç”¨: å·¨å¤§ãªå˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«
```

**å®Ÿè£…ã¸ã®å½±éŸ¿**:
- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å˜ä¸€è²¬ä»»
- å‹å®šç¾©ã¯ `types/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é›†ç´„
- å„é–¢æ•°ã«JSDocã‚³ãƒ¡ãƒ³ãƒˆå¿…é ˆ
- ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã®å¾¹åº• (æœ€å¤§300è¡Œ)

#### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æœ€å„ªå…ˆ

**åˆ¤æ–­åŸºæº–**:
```
ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼: æœªæˆå¹´å«ã‚€
ãƒ‡ãƒ¼ã‚¿ã®æ€§è³ª: å€‹äººæƒ…å ±ãƒ»ä¼šè©±å†…å®¹

è¨­è¨ˆã®é¸æŠ:
âœ… æ¡ç”¨: JWT + httpOnly Cookie
âœ… æ¡ç”¨: HTTPSå¿…é ˆ
âœ… æ¡ç”¨: CORSå³æ ¼è¨­å®š
âœ… æ¡ç”¨: ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ
âœ… æ¡ç”¨: å…¥åŠ›ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
âŒ ä¸æ¡ç”¨: localStorage ã§ã®ãƒˆãƒ¼ã‚¯ãƒ³ä¿å­˜
```

**å®Ÿè£…ã¸ã®å½±éŸ¿**:
- èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã¯httpOnly Cookie
- ã™ã¹ã¦ã®APIå…¥åŠ›ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- XSSå¯¾ç­–ã®å¾¹åº•
- CSRFå¯¾ç­–ã®å®Ÿè£…
- SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼ˆPrisma ORMï¼‰

#### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

**åˆ¤æ–­åŸºæº–**:
```
ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ‡ãƒã‚¤ã‚¹: PCãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ
ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯: ä¸å®‰å®šãªå¯èƒ½æ€§ã‚ã‚Š

è¨­è¨ˆã®é¸æŠ:
âœ… æ¡ç”¨: ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³Canvas (æç”»æœ€é©åŒ–)
âœ… æ¡ç”¨: ãƒ‡ãƒã‚¦ãƒ³ã‚¹ãƒ»ã‚¹ãƒ­ãƒƒãƒˆãƒ« (ã‚¤ãƒ™ãƒ³ãƒˆå‰Šæ¸›)
âœ… æ¡ç”¨: ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ– (è¡¨ç¤ºç¯„å›²ã®ã¿æç”»)
âœ… æ¡ç”¨: è‡ªå‹•å†æ¥ç¶š (Socket.io)
âŒ ä¸æ¡ç”¨: æ¯ãƒ•ãƒ¬ãƒ¼ãƒ å…¨ä½“å†æç”»
```

**å®Ÿè£…ã¸ã®å½±éŸ¿**:
- Canvasæç”»ã¯å·®åˆ†æ›´æ–°
- Socket.ioã‚¤ãƒ™ãƒ³ãƒˆã¯é©åˆ‡ãªé »åº¦åˆ¶é™
- ç”»åƒã¯WebPå½¢å¼
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¡ãƒ¢åŒ–

---

## ğŸŒ³ ãƒ„ãƒªãƒ¼æ§‹é€ ã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚

### ã‚·ã‚¹ãƒ†ãƒ ä¾å­˜é–¢ä¿‚ãƒ„ãƒªãƒ¼

```
Schoolverse_1 ã‚·ã‚¹ãƒ†ãƒ 
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«0: ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ (ä»–ã«ä¾å­˜ã—ãªã„)
â”‚   â”œâ”€â”€ PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ Redis ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µãƒ¼ãƒãƒ¼
â”‚   â””â”€â”€ Node.js ãƒ©ãƒ³ã‚¿ã‚¤ãƒ 
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«1: åŸºç›¤ãƒ¬ã‚¤ãƒ¤ãƒ¼ (ã‚¤ãƒ³ãƒ•ãƒ©ã«ä¾å­˜)
â”‚   â”œâ”€â”€ Prisma ORM
â”‚   â”‚   â””â”€â”€ ä¾å­˜: PostgreSQL
â”‚   â”œâ”€â”€ JWT ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ ä¾å­˜: ãªã—
â”‚   â”œâ”€â”€ bcrypt ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ ä¾å­˜: ãªã—
â”‚   â””â”€â”€ Logger
â”‚       â””â”€â”€ ä¾å­˜: ãªã—
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«2: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ (åŸºç›¤ã«ä¾å­˜)
â”‚   â”œâ”€â”€ userRepository
â”‚   â”‚   â””â”€â”€ ä¾å­˜: Prisma
â”‚   â”œâ”€â”€ messageRepository
â”‚   â”‚   â””â”€â”€ ä¾å­˜: Prisma
â”‚   â””â”€â”€ roomRepository
â”‚       â””â”€â”€ ä¾å­˜: Prisma
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«3: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤ (ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã«ä¾å­˜)
â”‚   â”œâ”€â”€ authService
â”‚   â”‚   â”œâ”€â”€ ä¾å­˜: userRepository
â”‚   â”‚   â”œâ”€â”€ ä¾å­˜: JWT
â”‚   â”‚   â””â”€â”€ ä¾å­˜: bcrypt
â”‚   â”œâ”€â”€ userService
â”‚   â”‚   â””â”€â”€ ä¾å­˜: userRepository
â”‚   â”œâ”€â”€ messageService
â”‚   â”‚   â””â”€â”€ ä¾å­˜: messageRepository
â”‚   â””â”€â”€ roomService
â”‚       â””â”€â”€ ä¾å­˜: roomRepository
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«4: APIå±¤ (ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«ä¾å­˜)
â”‚   â”œâ”€â”€ /api/auth/*
â”‚   â”‚   â””â”€â”€ ä¾å­˜: authService
â”‚   â”œâ”€â”€ /api/users/*
â”‚   â”‚   â””â”€â”€ ä¾å­˜: userService
â”‚   â”œâ”€â”€ /api/messages/*
â”‚   â”‚   â””â”€â”€ ä¾å­˜: messageService
â”‚   â””â”€â”€ /api/rooms/*
â”‚       â””â”€â”€ ä¾å­˜: roomService
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«5: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡å±¤ (APIå±¤ã«ä¾å­˜)
â”‚   â”œâ”€â”€ Socket.io ã‚µãƒ¼ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ ä¾å­˜: Redis
â”‚   â”‚   â”œâ”€â”€ ä¾å­˜: authService (èªè¨¼)
â”‚   â”‚   â””â”€â”€ ä¾å­˜: messageService
â”‚   â””â”€â”€ WebRTC ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°
â”‚       â””â”€â”€ ä¾å­˜: Socket.io
â”‚
â””â”€â”€ ãƒ¬ãƒ™ãƒ«6: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å±¤ (å…¨ã¦ã«ä¾å­˜)
    â”œâ”€â”€ ãƒšãƒ¼ã‚¸
    â”‚   â””â”€â”€ ä¾å­˜: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”œâ”€â”€ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”‚   â””â”€â”€ ä¾å­˜: çŠ¶æ…‹ç®¡ç†ãƒ»API
    â”œâ”€â”€ çŠ¶æ…‹ç®¡ç† (Zustand)
    â”‚   â””â”€â”€ ä¾å­˜: API
    â”œâ”€â”€ Canvas ã‚·ã‚¹ãƒ†ãƒ 
    â”‚   â””â”€â”€ ä¾å­˜: Socket.io
    â””â”€â”€ WebRTC ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
        â””â”€â”€ ä¾å­˜: Socket.io ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°
```

### æ©Ÿèƒ½é–“ä¾å­˜é–¢ä¿‚

```
èªè¨¼ã‚·ã‚¹ãƒ†ãƒ  (ç‹¬ç«‹)
  â”‚
  â”œâ†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« (èªè¨¼ã«ä¾å­˜)
  â”‚     â”‚
  â”‚     â””â†’ ã‚¢ãƒã‚¿ãƒ¼ç®¡ç† (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«ä¾å­˜)
  â”‚
  â”œâ†’ ä»®æƒ³ç©ºé–“ã‚·ã‚¹ãƒ†ãƒ  (èªè¨¼ã«ä¾å­˜)
  â”‚     â”‚
  â”‚     â”œâ†’ Canvasæç”» (ç©ºé–“ã«ä¾å­˜)
  â”‚     â”œâ†’ ç§»å‹•ã‚·ã‚¹ãƒ†ãƒ  (ç©ºé–“ã«ä¾å­˜)
  â”‚     â””â†’ è¡çªæ¤œçŸ¥ (ç©ºé–“ã«ä¾å­˜)
  â”‚
  â”œâ†’ ãƒãƒ£ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ  (èªè¨¼ã«ä¾å­˜)
  â”‚     â”‚
  â”‚     â”œâ†’ ãƒ«ãƒ¼ãƒ ãƒãƒ£ãƒƒãƒˆ (ãƒãƒ£ãƒƒãƒˆã«ä¾å­˜)
  â”‚     â””â†’ DM (ãƒãƒ£ãƒƒãƒˆã«ä¾å­˜)
  â”‚
  â””â†’ éŸ³å£°é€šè©±ã‚·ã‚¹ãƒ†ãƒ  (èªè¨¼ã«ä¾å­˜)
        â”‚
        â”œâ†’ 1å¯¾1é€šè©± (éŸ³å£°ã«ä¾å­˜)
        â”œâ†’ ã‚°ãƒ«ãƒ¼ãƒ—é€šè©± (éŸ³å£°ã«ä¾å­˜)
        â””â†’ è¿‘æ¥é€šè©± (éŸ³å£° + ç©ºé–“ã«ä¾å­˜)
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ä¾å­˜é–¢ä¿‚

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
  â”‚
  â”œâ†’ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  â”‚     â”‚
  â”‚     â”œâ†’ OK â†’ APIé€ä¿¡
  â”‚     â”‚        â”‚
  â”‚     â”‚        â””â†’ ã‚µãƒ¼ãƒãƒ¼å‡¦ç†
  â”‚     â”‚              â”‚
  â”‚     â”‚              â”œâ†’ DBæ“ä½œ
  â”‚     â”‚              â”‚   â”‚
  â”‚     â”‚              â”‚   â””â†’ æˆåŠŸ â†’ ãƒ¬ã‚¹ãƒãƒ³ã‚¹
  â”‚     â”‚              â”‚             â”‚
  â”‚     â”‚              â”‚             â””â†’ UIæ›´æ–°
  â”‚     â”‚              â”‚
  â”‚     â”‚              â””â†’ Socket.io ã‚¤ãƒ™ãƒ³ãƒˆ
  â”‚     â”‚                    â”‚
  â”‚     â”‚                    â””â†’ ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ
  â”‚     â”‚                          â”‚
  â”‚     â”‚                          â””â†’ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§å—ä¿¡
  â”‚     â”‚                                â”‚
  â”‚     â”‚                                â””â†’ Canvasæ›´æ–°
  â”‚     â”‚
  â”‚     â””â†’ NG â†’ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
  â”‚
  â””â†’ (ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—) â†’ ã‚¨ãƒ©ãƒ¼
```

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°

### å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Next.js 15 + React 19                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   Pages     â”‚  â”‚  Components  â”‚  â”‚   Stores   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   (App      â”‚  â”‚  (UI + Logic)â”‚  â”‚  (Zustand) â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Router)   â”‚  â”‚              â”‚  â”‚            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚         â”‚                â”‚                 â”‚         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚         Canvas Rendering Engine                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Renderer â”‚  â”‚  Avatar  â”‚  â”‚  Collision   â”‚ â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚          â”‚  â”‚  Manager â”‚  â”‚   Detector   â”‚ â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                  â”‚                           â”‚
â”‚              â”‚ HTTPS            â”‚ WebSocket                 â”‚
â”‚              â”‚                  â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                  â”‚
               â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ã‚µãƒ¼ãƒãƒ¼                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚            Next.js API Routes + Socket.io             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚   REST API   â”‚         â”‚   Socket.io Server  â”‚    â”‚    â”‚
â”‚  â”‚  â”‚   Endpoints  â”‚         â”‚   + WebRTC Signal   â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚         â”‚                            â”‚               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚           Services Layer                  â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â”‚  Auth  â”‚  â”‚  User  â”‚  â”‚  Message   â”‚ â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â”‚Service â”‚  â”‚Service â”‚  â”‚  Service   â”‚ â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â”‚          â”‚           â”‚            â”‚                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚        Repositories Layer                â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â”‚   Prisma   â”‚      â”‚   Redis Client â”‚ â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â”‚   Client   â”‚      â”‚                â”‚ â”‚        â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚              â”‚                       â”‚                       â”‚
â”‚              â–¼                       â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   PostgreSQL      â”‚   â”‚     Redis        â”‚               â”‚
â”‚  â”‚   (Main DB)       â”‚   â”‚   (Cache/Queue)  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ 

```
schoolverse_1/
â”œâ”€â”€ .env.local                    # ç’°å¢ƒå¤‰æ•°
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml            # Dockerè¨­å®š
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ next.config.js
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma             # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ migrations/               # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â”œâ”€â”€ public/                       # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ maps/                 # ãƒãƒƒãƒ—ç”»åƒ
â”‚   â”‚   â””â”€â”€ avatars/              # ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ
â”‚   â””â”€â”€ fonts/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ (auth)/               # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ (dashboard)/          # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â””â”€â”€ world/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ api/                  # API Routes
â”‚   â”‚       â”œâ”€â”€ auth/
â”‚   â”‚       â”‚   â”œâ”€â”€ login/route.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ signup/route.ts
â”‚   â”‚       â”‚   â””â”€â”€ refresh/route.ts
â”‚   â”‚       â”œâ”€â”€ users/
â”‚   â”‚       â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ [id]/route.ts
â”‚   â”‚       â”‚   â””â”€â”€ me/route.ts
â”‚   â”‚       â”œâ”€â”€ messages/
â”‚   â”‚       â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚       â”‚   â””â”€â”€ [roomId]/route.ts
â”‚   â”‚       â””â”€â”€ rooms/
â”‚   â”‚           â””â”€â”€ route.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ components/               # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ui/                   # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ features/             # æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SignupForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ world/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WorldCanvas.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AvatarDisplay.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanel.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageList.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MessageInput.tsx
â”‚   â”‚   â”‚   â””â”€â”€ voice/
â”‚   â”‚   â”‚       â”œâ”€â”€ VoiceControls.tsx
â”‚   â”‚   â”‚       â””â”€â”€ UserAudioDisplay.tsx
â”‚   â”‚   â””â”€â”€ layout/
â”‚   â”‚       â”œâ”€â”€ Header.tsx
â”‚   â”‚       â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚       â””â”€â”€ Footer.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                      # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ canvas/
â”‚   â”‚   â”‚   â”œâ”€â”€ CanvasRenderer.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ AvatarManager.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ MapRenderer.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ CollisionDetector.ts
â”‚   â”‚   â”‚   â””â”€â”€ CameraController.ts
â”‚   â”‚   â”œâ”€â”€ socket/
â”‚   â”‚   â”‚   â”œâ”€â”€ SocketManager.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ EventHandlers.ts
â”‚   â”‚   â”‚   â””â”€â”€ reconnection.ts
â”‚   â”‚   â”œâ”€â”€ webrtc/
â”‚   â”‚   â”‚   â”œâ”€â”€ RTCManager.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ SignalingHandler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ AudioManager.ts
â”‚   â”‚   â”‚   â””â”€â”€ ProximityCallHandler.ts
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ validation.ts
â”‚   â”‚       â”œâ”€â”€ formatting.ts
â”‚   â”‚       â””â”€â”€ constants.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                   # ZustandçŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â”œâ”€â”€ worldStore.ts
â”‚   â”‚   â”œâ”€â”€ chatStore.ts
â”‚   â”‚   â”œâ”€â”€ voiceStore.ts
â”‚   â”‚   â””â”€â”€ uiStore.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                    # TypeScriptå‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ api.types.ts
â”‚   â”‚   â”œâ”€â”€ socket.types.ts
â”‚   â”‚   â”œâ”€â”€ world.types.ts
â”‚   â”‚   â”œâ”€â”€ user.types.ts
â”‚   â”‚   â”œâ”€â”€ chat.types.ts
â”‚   â”‚   â””â”€â”€ voice.types.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ authService.ts
â”‚   â”‚   â”œâ”€â”€ userService.ts
â”‚   â”‚   â”œâ”€â”€ messageService.ts
â”‚   â”‚   â””â”€â”€ roomService.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ repositories/             # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
â”‚   â”‚   â”œâ”€â”€ userRepository.ts
â”‚   â”‚   â”œâ”€â”€ messageRepository.ts
â”‚   â”‚   â””â”€â”€ roomRepository.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/               # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â”œâ”€â”€ authMiddleware.ts
â”‚   â”‚   â”œâ”€â”€ validationMiddleware.ts
â”‚   â”‚   â”œâ”€â”€ errorHandler.ts
â”‚   â”‚   â””â”€â”€ rateLimiter.ts
â”‚   â”‚
â”‚   â””â”€â”€ config/                   # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â”œâ”€â”€ database.ts
â”‚       â”œâ”€â”€ redis.ts
â”‚       â”œâ”€â”€ jwt.ts
â”‚       â””â”€â”€ socket.ts
â”‚
â”œâ”€â”€ tests/                        # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ e2e/
â”‚
â””â”€â”€ docs/                         # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ API.md
    â”œâ”€â”€ SETUP.md
    â””â”€â”€ ARCHITECTURE.md
```

---

## ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### Prisma ã‚¹ã‚­ãƒ¼ãƒå®šç¾©

```prisma
// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‡ãƒ«
model User {
  id                String    @id @default(uuid())
  email             String    @unique
  username          String    @unique
  passwordHash      String
  displayName       String?
  avatarUrl         String?
  status            UserStatus @default(OFFLINE)
  
  // ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
  lastLoginAt       DateTime?
  
  // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  sentMessages      Message[]    @relation("SentMessages")
  receivedMessages  Message[]    @relation("ReceivedMessages")
  roomMemberships   RoomMember[]
  profile           UserProfile?
  sessions          Session[]
  
  @@index([email])
  @@index([username])
  @@map("users")
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
enum UserStatus {
  ONLINE
  AWAY
  BUSY
  OFFLINE
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
model UserProfile {
  id          String   @id @default(uuid())
  userId      String   @unique
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  bio         String?
  avatarStyle Json?    // ã‚¢ãƒã‚¿ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæƒ…å ±
  
  // ç¾åœ¨ã®ä½ç½®æƒ…å ±ï¼ˆä»®æƒ³ç©ºé–“å†…ï¼‰
  currentRoomId String?
  positionX     Float?
  positionY     Float?
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  @@map("user_profiles")
}

// ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
model Session {
  id            String   @id @default(uuid())
  userId        String
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  refreshToken  String   @unique
  accessToken   String
  expiresAt     DateTime
  
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  
  @@index([userId])
  @@index([refreshToken])
  @@map("sessions")
}

// ãƒ«ãƒ¼ãƒ ï¼ˆä»®æƒ³ç©ºé–“ï¼‰
model Room {
  id          String       @id @default(uuid())
  name        String
  type        RoomType
  description String?
  mapData     Json         // ãƒãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ï¼ˆè¡çªåˆ¤å®šãªã©ï¼‰
  maxUsers    Int          @default(50)
  
  isActive    Boolean      @default(true)
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
  
  // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  members     RoomMember[]
  messages    Message[]
  
  @@index([type])
  @@map("rooms")
}

// ãƒ«ãƒ¼ãƒ ã‚¿ã‚¤ãƒ—
enum RoomType {
  CLASSROOM
  GALLERY
  PARK
  CUSTOM
}

// ãƒ«ãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—
model RoomMember {
  id        String   @id @default(uuid())
  userId    String
  roomId    String
  
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  room      Room     @relation(fields: [roomId], references: [id], onDelete: Cascade)
  
  joinedAt  DateTime @default(now())
  
  @@unique([userId, roomId])
  @@index([roomId])
  @@map("room_members")
}

// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
model Message {
  id         String      @id @default(uuid())
  content    String
  type       MessageType @default(TEXT)
  
  // é€ä¿¡è€…
  senderId   String
  sender     User        @relation("SentMessages", fields: [senderId], references: [id], onDelete: Cascade)
  
  // å—ä¿¡è€…ï¼ˆDM ã®å ´åˆï¼‰
  receiverId String?
  receiver   User?       @relation("ReceivedMessages", fields: [receiverId], references: [id], onDelete: Cascade)
  
  // ãƒ«ãƒ¼ãƒ ï¼ˆãƒ«ãƒ¼ãƒ ãƒãƒ£ãƒƒãƒˆã®å ´åˆï¼‰
  roomId     String?
  room       Room?       @relation(fields: [roomId], references: [id], onDelete: Cascade)
  
  createdAt  DateTime    @default(now())
  
  @@index([senderId])
  @@index([receiverId])
  @@index([roomId])
  @@index([createdAt])
  @@map("messages")
}

// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—
enum MessageType {
  TEXT
  SYSTEM
  IMAGE
  FILE
}
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æˆ¦ç•¥

```sql
-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®ãŸã‚ã®è¿½åŠ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

-- ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ç”¨
CREATE INDEX idx_users_display_name ON users(display_name);
CREATE INDEX idx_users_last_login ON users(last_login_at DESC);

-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—ç”¨ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
CREATE INDEX idx_messages_room_created ON messages(room_id, created_at DESC);
CREATE INDEX idx_messages_dm_created ON messages(sender_id, receiver_id, created_at DESC);

-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ç”¨
CREATE INDEX idx_users_status ON users(status) WHERE status != 'OFFLINE';

-- è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_room_members_composite ON room_members(room_id, joined_at DESC);
```

### ERå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚       â”‚   Session    â”‚       â”‚ UserProfile â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚â”€â”€1:nâ”€â”€â”‚ id (PK)      â”‚       â”‚ id (PK)     â”‚
â”‚ email       â”‚       â”‚ userId (FK)  â”‚   1:1 â”‚ userId (FK) â”‚
â”‚ username    â”‚       â”‚ refreshToken â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ bio         â”‚
â”‚ passwordHashâ”‚       â”‚ accessToken  â”‚       â”‚ avatarStyle â”‚
â”‚ displayName â”‚       â”‚ expiresAt    â”‚       â”‚ currentRoom â”‚
â”‚ status      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ positionX   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                              â”‚ positionY   â”‚
       â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:n
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Message   â”‚       â”‚     Room     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚   n:1 â”‚ id (PK)      â”‚
â”‚ content     â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ name         â”‚
â”‚ type        â”‚       â”‚ type         â”‚
â”‚ senderId(FK)â”‚       â”‚ description  â”‚
â”‚ receiverId  â”‚       â”‚ mapData      â”‚
â”‚ roomId (FK) â”‚â”€â”€â”€â”   â”‚ maxUsers     â”‚
â”‚ createdAt   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚          â”‚
                  â”‚          â”‚ 1:n
                  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚   â”‚  RoomMember  â”‚
                  â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                  â””â”€â”€â”€â”‚ id (PK)      â”‚
                      â”‚ userId (FK)  â”‚
                      â”‚ roomId (FK)  â”‚
                      â”‚ joinedAt     â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ APIä»•æ§˜

### èªè¨¼API

#### POST /api/auth/signup

**èª¬æ˜**: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```typescript
interface SignupRequest {
  email: string;      // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
  username: string;   // ãƒ¦ãƒ¼ã‚¶ãƒ¼å (3-20æ–‡å­—)
  password: string;   // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (8æ–‡å­—ä»¥ä¸Š)
  displayName?: string; // è¡¨ç¤ºå (çœç•¥å¯)
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 201)**:
```typescript
interface SignupResponse {
  success: true;
  data: {
    user: {
      id: string;
      email: string;
      username: string;
      displayName: string | null;
      createdAt: string;
    };
  };
  message: "User created successfully";
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (ã‚¨ãƒ©ãƒ¼ - 400)**:
```typescript
interface ErrorResponse {
  success: false;
  error: {
    code: "VALIDATION_ERROR" | "EMAIL_EXISTS" | "USERNAME_EXISTS";
    message: string;
    details?: Record<string, string[]>;
  };
}
```

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«**:
```typescript
const signupSchema = z.object({
  email: z.string().email("Invalid email format"),
  username: z.string()
    .min(3, "Username must be at least 3 characters")
    .max(20, "Username must be at most 20 characters")
    .regex(/^[a-zA-Z0-9_]+$/, "Username can only contain letters, numbers, and underscores"),
  password: z.string()
    .min(8, "Password must be at least 8 characters")
    .regex(/[A-Z]/, "Password must contain at least one uppercase letter")
    .regex(/[a-z]/, "Password must contain at least one lowercase letter")
    .regex(/[0-9]/, "Password must contain at least one number"),
  displayName: z.string().max(50).optional(),
});
```

**å®Ÿè£…ä¾‹**:
```typescript
// app/api/auth/signup/route.ts
import { NextRequest, NextResponse } from 'next/server';
import { signupSchema } from '@/lib/validation';
import { authService } from '@/services/authService';

export async function POST(request: NextRequest) {
  try {
    const body = await request.json();
    
    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    const validatedData = signupSchema.parse(body);
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
    const user = await authService.signup(validatedData);
    
    return NextResponse.json(
      {
        success: true,
        data: { user },
        message: "User created successfully"
      },
      { status: 201 }
    );
  } catch (error) {
    if (error instanceof z.ZodError) {
      return NextResponse.json(
        {
          success: false,
          error: {
            code: "VALIDATION_ERROR",
            message: "Validation failed",
            details: error.flatten().fieldErrors
          }
        },
        { status: 400 }
      );
    }
    
    // ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†
    return NextResponse.json(
      {
        success: false,
        error: {
          code: "INTERNAL_ERROR",
          message: "An error occurred during signup"
        }
      },
      { status: 500 }
    );
  }
}
```

---

#### POST /api/auth/login

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```typescript
interface LoginRequest {
  email: string;
  password: string;
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface LoginResponse {
  success: true;
  data: {
    user: {
      id: string;
      email: string;
      username: string;
      displayName: string | null;
    };
    accessToken: string;
    refreshToken: string;
  };
  message: "Login successful";
}
```

**Cookieè¨­å®š**:
- `accessToken`: httpOnly, secure, sameSite=strict, maxAge=15åˆ†
- `refreshToken`: httpOnly, secure, sameSite=strict, maxAge=7æ—¥

---

#### POST /api/auth/refresh

**èª¬æ˜**: ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: ãªã— (Cookie ã‹ã‚‰ refreshToken ã‚’å–å¾—)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface RefreshResponse {
  success: true;
  data: {
    accessToken: string;
  };
}
```

---

#### POST /api/auth/logout

**èª¬æ˜**: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: ãªã—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface LogoutResponse {
  success: true;
  message: "Logout successful";
}
```

**å‡¦ç†å†…å®¹**:
1. DB ã‹ã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤
2. Cookie ã‚¯ãƒªã‚¢
3. Redis ã‹ã‚‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤

---

### ãƒ¦ãƒ¼ã‚¶ãƒ¼API

#### GET /api/users/me

**èª¬æ˜**: ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

**èªè¨¼**: å¿…é ˆ (JWT)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface UserMeResponse {
  success: true;
  data: {
    user: {
      id: string;
      email: string;
      username: string;
      displayName: string | null;
      avatarUrl: string | null;
      status: UserStatus;
      profile: {
        bio: string | null;
        currentRoomId: string | null;
        positionX: number | null;
        positionY: number | null;
      };
    };
  };
}
```

---

#### PATCH /api/users/me

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°

**èªè¨¼**: å¿…é ˆ (JWT)

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```typescript
interface UpdateUserRequest {
  displayName?: string;
  avatarUrl?: string;
  bio?: string;
  status?: UserStatus;
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface UpdateUserResponse {
  success: true;
  data: {
    user: UserMeResponse['data']['user'];
  };
  message: "User updated successfully";
}
```

---

#### GET /api/users/[id]

**èª¬æ˜**: ç‰¹å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¬é–‹æƒ…å ±å–å¾—

**èªè¨¼**: å¿…é ˆ (JWT)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface UserPublicResponse {
  success: true;
  data: {
    user: {
      id: string;
      username: string;
      displayName: string | null;
      avatarUrl: string | null;
      status: UserStatus;
      bio: string | null;
    };
  };
}
```

---

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸API

#### GET /api/messages?roomId={roomId}&limit=50&before={timestamp}

**èª¬æ˜**: ãƒ«ãƒ¼ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´å–å¾—

**èªè¨¼**: å¿…é ˆ (JWT)

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `roomId` (required): ãƒ«ãƒ¼ãƒ ID
- `limit` (optional): å–å¾—ä»¶æ•° (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 50, æœ€å¤§: 100)
- `before` (optional): ã“ã®æ™‚åˆ»ã‚ˆã‚Šå‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾— (ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”¨)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface MessagesResponse {
  success: true;
  data: {
    messages: Array<{
      id: string;
      content: string;
      type: MessageType;
      senderId: string;
      sender: {
        username: string;
        displayName: string | null;
        avatarUrl: string | null;
      };
      roomId: string;
      createdAt: string;
    }>;
    hasMore: boolean;
    nextCursor: string | null;
  };
}
```

---

#### GET /api/messages/dm?userId={userId}&limit=50&before={timestamp}

**èª¬æ˜**: DMå±¥æ­´å–å¾—

**èªè¨¼**: å¿…é ˆ (JWT)

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `userId` (required): ç›¸æ‰‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
- `limit` (optional): å–å¾—ä»¶æ•°
- `before` (optional): ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”¨

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: `MessagesResponse` ã¨åŒæ§˜

---

### ãƒ«ãƒ¼ãƒ API

#### GET /api/rooms

**èª¬æ˜**: ãƒ«ãƒ¼ãƒ ä¸€è¦§å–å¾—

**èªè¨¼**: å¿…é ˆ (JWT)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface RoomsResponse {
  success: true;
  data: {
    rooms: Array<{
      id: string;
      name: string;
      type: RoomType;
      description: string | null;
      maxUsers: number;
      currentUsers: number;
    }>;
  };
}
```

---

#### GET /api/rooms/[id]

**èª¬æ˜**: ãƒ«ãƒ¼ãƒ è©³ç´°å–å¾—

**èªè¨¼**: å¿…é ˆ (JWT)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æˆåŠŸ - 200)**:
```typescript
interface RoomDetailResponse {
  success: true;
  data: {
    room: {
      id: string;
      name: string;
      type: RoomType;
      description: string | null;
      mapData: {
        width: number;
        height: number;
        tileSize: number;
        collisionMap: number[][];
        spawnPoints: Array<{ x: number; y: number }>;
      };
      maxUsers: number;
      members: Array<{
        userId: string;
        username: string;
        displayName: string | null;
        avatarUrl: string | null;
        position: { x: number; y: number };
        status: UserStatus;
      }>;
    };
  };
}
```

---

### ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹çµ±ä¸€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

ã™ã¹ã¦ã®APIã‚¨ãƒ©ãƒ¼ã¯ä»¥ä¸‹ã®å½¢å¼ã§è¿”ã—ã¾ã™:

```typescript
interface APIError {
  success: false;
  error: {
    code: string;
    message: string;
    details?: any;
  };
}
```

**ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§**:
```typescript
const ERROR_CODES = {
  // èªè¨¼ã‚¨ãƒ©ãƒ¼
  UNAUTHORIZED: 'User not authenticated',
  FORBIDDEN: 'Access denied',
  INVALID_TOKEN: 'Invalid or expired token',
  
  // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
  VALIDATION_ERROR: 'Validation failed',
  INVALID_INPUT: 'Invalid input data',
  
  // ãƒªã‚½ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼
  NOT_FOUND: 'Resource not found',
  ALREADY_EXISTS: 'Resource already exists',
  
  // ãƒ¬ãƒ¼ãƒˆåˆ¶é™
  RATE_LIMIT_EXCEEDED: 'Too many requests',
  
  // ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼
  INTERNAL_ERROR: 'Internal server error',
  DATABASE_ERROR: 'Database operation failed',
} as const;
```

---

## ğŸ¨ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆåŸå‰‡

#### 1. å˜ä¸€è²¬ä»»ã®åŸå‰‡

å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯1ã¤ã®è²¬ä»»ã®ã¿ã‚’æŒã¤:

```typescript
// âŒ æ‚ªã„ä¾‹: è¤‡æ•°ã®è²¬ä»»
function UserDashboard() {
  // èªè¨¼ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã€è¡¨ç¤ºã€çŠ¶æ…‹ç®¡ç†ãŒæ··åœ¨
  const [user, setUser] = useState(null);
  const [messages, setMessages] = useState([]);
  
  useEffect(() => {
    // èªè¨¼ãƒã‚§ãƒƒã‚¯
    // ãƒ‡ãƒ¼ã‚¿å–å¾—
    // WebSocketæ¥ç¶š
  }, []);
  
  return (
    <div>
      {/* è¤‡é›‘ãªUI */}
    </div>
  );
}

// âœ… è‰¯ã„ä¾‹: è²¬ä»»ã‚’åˆ†é›¢
function UserDashboard() {
  return (
    <DashboardLayout>
      <UserProfile />
      <MessageList />
      <WorldCanvas />
    </DashboardLayout>
  );
}
```

#### 2. ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒŠã®åˆ†é›¢

```typescript
// Presentational Component (è¦‹ãŸç›®ã®ã¿)
interface MessageItemProps {
  message: Message;
  onDelete?: (id: string) => void;
}

export function MessageItem({ message, onDelete }: MessageItemProps) {
  return (
    <div className="message-item">
      <span>{message.content}</span>
      {onDelete && (
        <button onClick={() => onDelete(message.id)}>
          å‰Šé™¤
        </button>
      )}
    </div>
  );
}

// Container Component (ãƒ­ã‚¸ãƒƒã‚¯)
export function MessageListContainer() {
  const messages = useMessageStore((state) => state.messages);
  const deleteMessage = useMessageStore((state) => state.deleteMessage);
  
  return (
    <div>
      {messages.map((msg) => (
        <MessageItem 
          key={msg.id} 
          message={msg} 
          onDelete={deleteMessage} 
        />
      ))}
    </div>
  );
}
```

#### 3. Compound Components ãƒ‘ã‚¿ãƒ¼ãƒ³

é–¢é€£ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–:

```typescript
// components/features/chat/ChatPanel.tsx
export function ChatPanel({ children }: { children: React.ReactNode }) {
  return (
    <div className="chat-panel">
      {children}
    </div>
  );
}

ChatPanel.Header = function ChatPanelHeader({ title }: { title: string }) {
  return <div className="chat-header">{title}</div>;
};

ChatPanel.Messages = function ChatPanelMessages({ messages }: { messages: Message[] }) {
  return (
    <div className="chat-messages">
      {messages.map((msg) => (
        <MessageItem key={msg.id} message={msg} />
      ))}
    </div>
  );
};

ChatPanel.Input = function ChatPanelInput({ onSend }: { onSend: (text: string) => void }) {
  const [text, setText] = useState('');
  
  return (
    <div className="chat-input">
      <input 
        value={text} 
        onChange={(e) => setText(e.target.value)}
        onKeyPress={(e) => {
          if (e.key === 'Enter' && text.trim()) {
            onSend(text);
            setText('');
          }
        }}
      />
      <button onClick={() => {
        if (text.trim()) {
          onSend(text);
          setText('');
        }
      }}>
        é€ä¿¡
      </button>
    </div>
  );
};

// ä½¿ç”¨ä¾‹
<ChatPanel>
  <ChatPanel.Header title="æ•™å®¤ãƒãƒ£ãƒƒãƒˆ" />
  <ChatPanel.Messages messages={messages} />
  <ChatPanel.Input onSend={handleSendMessage} />
</ChatPanel>
```

### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯è¨­è¨ˆ

#### useAuth - èªè¨¼ãƒ•ãƒƒã‚¯

```typescript
// hooks/useAuth.ts
import { useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { useAuthStore } from '@/stores/authStore';

interface UseAuthOptions {
  required?: boolean;
  redirectTo?: string;
}

export function useAuth(options: UseAuthOptions = {}) {
  const { required = false, redirectTo = '/login' } = options;
  const router = useRouter();
  const { user, isLoading, isAuthenticated, fetchUser, logout } = useAuthStore();
  
  useEffect(() => {
    if (!isLoading && required && !isAuthenticated) {
      router.push(redirectTo);
    }
  }, [isLoading, isAuthenticated, required, redirectTo, router]);
  
  useEffect(() => {
    if (!user && !isLoading) {
      fetchUser();
    }
  }, [user, isLoading, fetchUser]);
  
  return {
    user,
    isLoading,
    isAuthenticated,
    logout,
  };
}

// ä½¿ç”¨ä¾‹
function ProfilePage() {
  const { user, isLoading } = useAuth({ required: true });
  
  if (isLoading) return <LoadingSpinner />;
  if (!user) return null;
  
  return <UserProfile user={user} />;
}
```

#### useSocket - Socket.ioæ¥ç¶šãƒ•ãƒƒã‚¯

```typescript
// hooks/useSocket.ts
import { useEffect, useRef } from 'react';
import { SocketManager } from '@/lib/socket/SocketManager';
import { useAuthStore } from '@/stores/authStore';

export function useSocket() {
  const socketRef = useRef<SocketManager | null>(null);
  const { user } = useAuthStore();
  
  useEffect(() => {
    if (user && !socketRef.current) {
      socketRef.current = new SocketManager();
      socketRef.current.connect();
    }
    
    return () => {
      if (socketRef.current) {
        socketRef.current.disconnect();
        socketRef.current = null;
      }
    };
  }, [user]);
  
  return socketRef.current;
}
```

#### useCanvas - Canvasæç”»ãƒ•ãƒƒã‚¯

```typescript
// hooks/useCanvas.ts
import { useRef, useEffect } from 'react';
import { CanvasRenderer } from '@/lib/canvas/CanvasRenderer';

interface UseCanvasOptions {
  width: number;
  height: number;
  onRender?: (renderer: CanvasRenderer) => void;
}

export function useCanvas({ width, height, onRender }: UseCanvasOptions) {
  const canvasRef = useRef<HTMLCanvasElement>(null);
  const rendererRef = useRef<CanvasRenderer | null>(null);
  
  useEffect(() => {
    if (canvasRef.current && !rendererRef.current) {
      rendererRef.current = new CanvasRenderer(canvasRef.current, width, height);
      rendererRef.current.start();
      
      if (onRender) {
        onRender(rendererRef.current);
      }
    }
    
    return () => {
      if (rendererRef.current) {
        rendererRef.current.stop();
        rendererRef.current = null;
      }
    };
  }, [width, height, onRender]);
  
  return {
    canvasRef,
    renderer: rendererRef.current,
  };
}

// ä½¿ç”¨ä¾‹
function WorldCanvas() {
  const { canvasRef, renderer } = useCanvas({
    width: 800,
    height: 600,
    onRender: (renderer) => {
      // ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®åˆæœŸè¨­å®š
      renderer.loadMap('/assets/maps/classroom.png');
    },
  });
  
  return <canvas ref={canvasRef} />;
}
```

---

## âš¡ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡è¨­è¨ˆ

### Socket.io ã‚¤ãƒ™ãƒ³ãƒˆä»•æ§˜

#### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ â†’ ã‚µãƒ¼ãƒãƒ¼ ã‚¤ãƒ™ãƒ³ãƒˆ

```typescript
// types/socket.types.ts

/**
 * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒé€ä¿¡ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ
 */
export interface ClientToServerEvents {
  // æ¥ç¶šãƒ»èªè¨¼
  'auth:authenticate': (token: string) => void;
  
  // ãƒ«ãƒ¼ãƒ ç®¡ç†
  'room:join': (roomId: string) => void;
  'room:leave': (roomId: string) => void;
  
  // ä½ç½®åŒæœŸ
  'player:move': (data: PlayerMoveData) => void;
  'player:stop': (data: PlayerPositionData) => void;
  
  // ãƒãƒ£ãƒƒãƒˆ
  'message:send': (data: MessageSendData) => void;
  'message:typing': (isTyping: boolean) => void;
  
  // éŸ³å£°é€šè©±
  'voice:offer': (data: RTCOfferData) => void;
  'voice:answer': (data: RTCAnswerData) => void;
  'voice:iceCandidate': (data: ICECandidateData) => void;
  'voice:leave': () => void;
}

export interface PlayerMoveData {
  position: { x: number; y: number };
  direction: 'up' | 'down' | 'left' | 'right';
  velocity: { x: number; y: number };
}

export interface PlayerPositionData {
  position: { x: number; y: number };
}

export interface MessageSendData {
  roomId: string;
  content: string;
  type: 'TEXT' | 'SYSTEM';
}

export interface RTCOfferData {
  targetUserId: string;
  offer: RTCSessionDescriptionInit;
}

export interface RTCAnswerData {
  targetUserId: string;
  answer: RTCSessionDescriptionInit;
}

export interface ICECandidateData {
  targetUserId: string;
  candidate: RTCIceCandidateInit;
}
```

#### ã‚µãƒ¼ãƒãƒ¼ â†’ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ã‚¤ãƒ™ãƒ³ãƒˆ

```typescript
/**
 * ã‚µãƒ¼ãƒãƒ¼ãŒé€ä¿¡ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ
 */
export interface ServerToClientEvents {
  // æ¥ç¶šãƒ»èªè¨¼
  'auth:success': (data: AuthSuccessData) => void;
  'auth:error': (error: string) => void;
  
  // ãƒ«ãƒ¼ãƒ ç®¡ç†
  'room:joined': (data: RoomJoinedData) => void;
  'room:left': (data: RoomLeftData) => void;
  'room:userJoined': (data: UserJoinedData) => void;
  'room:userLeft': (data: UserLeftData) => void;
  
  // ä½ç½®åŒæœŸ
  'player:moved': (data: PlayerMovedData) => void;
  'player:stopped': (data: PlayerStoppedData) => void;
  
  // ãƒãƒ£ãƒƒãƒˆ
  'message:received': (data: MessageReceivedData) => void;
  'message:typingStatus': (data: TypingStatusData) => void;
  
  // éŸ³å£°é€šè©±
  'voice:offer': (data: RTCOfferReceivedData) => void;
  'voice:answer': (data: RTCAnswerReceivedData) => void;
  'voice:iceCandidate': (data: ICECandidateReceivedData) => void;
  'voice:userJoined': (data: VoiceUserJoinedData) => void;
  'voice:userLeft': (data: VoiceUserLeftData) => void;
  
  // ã‚¨ãƒ©ãƒ¼
  'error': (error: SocketErrorData) => void;
}

export interface AuthSuccessData {
  userId: string;
  username: string;
}

export interface RoomJoinedData {
  roomId: string;
  users: Array<{
    userId: string;
    username: string;
    position: { x: number; y: number };
    status: UserStatus;
  }>;
}

export interface UserJoinedData {
  userId: string;
  username: string;
  displayName: string | null;
  avatarUrl: string | null;
  position: { x: number; y: number };
}

export interface PlayerMovedData {
  userId: string;
  position: { x: number; y: number };
  direction: string;
  velocity: { x: number; y: number };
}

export interface MessageReceivedData {
  id: string;
  content: string;
  type: MessageType;
  senderId: string;
  sender: {
    username: string;
    displayName: string | null;
  };
  roomId: string;
  createdAt: string;
}

export interface SocketErrorData {
  code: string;
  message: string;
}
```

### Socket.io ã‚µãƒ¼ãƒãƒ¼å®Ÿè£…

```typescript
// server/socketServer.ts
import { Server as HTTPServer } from 'http';
import { Server as SocketIOServer } from 'socket.io';
import { createAdapter } from '@socket.io/redis-adapter';
import { createClient } from 'redis';
import type { ClientToServerEvents, ServerToClientEvents } from '@/types/socket.types';

export class SocketServer {
  private io: SocketIOServer<ClientToServerEvents, ServerToClientEvents>;
  private userSocketMap: Map<string, string> = new Map();
  
  constructor(httpServer: HTTPServer) {
    this.io = new SocketIOServer(httpServer, {
      cors: {
        origin: process.env.NEXT_PUBLIC_APP_URL,
        credentials: true,
      },
    });
    
    this.setupRedisAdapter();
    this.setupMiddleware();
    this.setupEventHandlers();
  }
  
  private async setupRedisAdapter() {
    const pubClient = createClient({ url: process.env.REDIS_URL });
    const subClient = pubClient.duplicate();
    
    await Promise.all([
      pubClient.connect(),
      subClient.connect(),
    ]);
    
    this.io.adapter(createAdapter(pubClient, subClient));
  }
  
  private setupMiddleware() {
    this.io.use(async (socket, next) => {
      try {
        const token = socket.handshake.auth.token;
        
        if (!token) {
          return next(new Error('Authentication error'));
        }
        
        // JWTæ¤œè¨¼
        const decoded = await verifyJWT(token);
        socket.data.userId = decoded.userId;
        socket.data.username = decoded.username;
        
        next();
      } catch (error) {
        next(new Error('Authentication error'));
      }
    });
  }
  
  private setupEventHandlers() {
    this.io.on('connection', (socket) => {
      console.log(`User connected: ${socket.data.userId}`);
      
      // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¨ã‚½ã‚±ãƒƒãƒˆIDã®ãƒãƒƒãƒ”ãƒ³ã‚°
      this.userSocketMap.set(socket.data.userId, socket.id);
      
      // ãƒ«ãƒ¼ãƒ å‚åŠ 
      socket.on('room:join', async (roomId) => {
        try {
          // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§æ¨©é™ç¢ºèª
          const hasAccess = await checkRoomAccess(socket.data.userId, roomId);
          
          if (!hasAccess) {
            socket.emit('error', {
              code: 'ACCESS_DENIED',
              message: 'You do not have access to this room',
            });
            return;
          }
          
          // ãƒ«ãƒ¼ãƒ ã«å‚åŠ 
          await socket.join(roomId);
          
          // æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—
          const users = await getRoomUsers(roomId);
          
          // å‚åŠ è€…ã«é€šçŸ¥
          socket.emit('room:joined', { roomId, users });
          
          // ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ–°è¦å‚åŠ ã‚’é€šçŸ¥
          socket.to(roomId).emit('room:userJoined', {
            userId: socket.data.userId,
            username: socket.data.username,
            displayName: socket.data.displayName,
            avatarUrl: socket.data.avatarUrl,
            position: { x: 100, y: 100 }, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä½ç½®
          });
        } catch (error) {
          console.error('Error joining room:', error);
          socket.emit('error', {
            code: 'ROOM_JOIN_ERROR',
            message: 'Failed to join room',
          });
        }
      });
      
      // ä½ç½®åŒæœŸ
      socket.on('player:move', (data) => {
        const rooms = Array.from(socket.rooms);
        rooms.forEach((roomId) => {
          if (roomId !== socket.id) {
            socket.to(roomId).emit('player:moved', {
              userId: socket.data.userId,
              ...data,
            });
          }
        });
      });
      
      // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
      socket.on('message:send', async (data) => {
        try {
          // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜
          const message = await saveMessage({
            content: data.content,
            type: data.type,
            senderId: socket.data.userId,
            roomId: data.roomId,
          });
          
          // ãƒ«ãƒ¼ãƒ å†…ã®å…¨å“¡ã«é…ä¿¡
          this.io.to(data.roomId).emit('message:received', {
            id: message.id,
            content: message.content,
            type: message.type,
            senderId: socket.data.userId,
            sender: {
              username: socket.data.username,
              displayName: socket.data.displayName,
            },
            roomId: data.roomId,
            createdAt: message.createdAt.toISOString(),
          });
        } catch (error) {
          console.error('Error sending message:', error);
          socket.emit('error', {
            code: 'MESSAGE_SEND_ERROR',
            message: 'Failed to send message',
          });
        }
      });
      
      // WebRTCã‚·ã‚°ãƒŠãƒªãƒ³ã‚°
      socket.on('voice:offer', (data) => {
        const targetSocketId = this.userSocketMap.get(data.targetUserId);
        if (targetSocketId) {
          this.io.to(targetSocketId).emit('voice:offer', {
            fromUserId: socket.data.userId,
            offer: data.offer,
          });
        }
      });
      
      socket.on('voice:answer', (data) => {
        const targetSocketId = this.userSocketMap.get(data.targetUserId);
        if (targetSocketId) {
          this.io.to(targetSocketId).emit('voice:answer', {
            fromUserId: socket.data.userId,
            answer: data.answer,
          });
        }
      });
      
      socket.on('voice:iceCandidate', (data) => {
        const targetSocketId = this.userSocketMap.get(data.targetUserId);
        if (targetSocketId) {
          this.io.to(targetSocketId).emit('voice:iceCandidate', {
            fromUserId: socket.data.userId,
            candidate: data.candidate,
          });
        }
      });
      
      // åˆ‡æ–­å‡¦ç†
      socket.on('disconnect', () => {
        console.log(`User disconnected: ${socket.data.userId}`);
        this.userSocketMap.delete(socket.data.userId);
        
        // å…¨ãƒ«ãƒ¼ãƒ ã«é€€å‡ºã‚’é€šçŸ¥
        const rooms = Array.from(socket.rooms);
        rooms.forEach((roomId) => {
          if (roomId !== socket.id) {
            socket.to(roomId).emit('room:userLeft', {
              userId: socket.data.userId,
            });
          }
        });
      });
    });
  }
}
```

### Socket.io ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…

```typescript
// lib/socket/SocketManager.ts
import { io, Socket } from 'socket.io-client';
import type { ClientToServerEvents, ServerToClientEvents } from '@/types/socket.types';

export class SocketManager {
  private socket: Socket<ServerToClientEvents, ClientToServerEvents> | null = null;
  private reconnectAttempts = 0;
  private maxReconnectAttempts = 5;
  
  constructor() {
    this.connect = this.connect.bind(this);
    this.disconnect = this.disconnect.bind(this);
  }
  
  public connect(): void {
    if (this.socket?.connected) {
      console.warn('Socket already connected');
      return;
    }
    
    const token = getAuthToken();
    
    if (!token) {
      console.error('No auth token available');
      return;
    }
    
    this.socket = io(process.env.NEXT_PUBLIC_SOCKET_URL!, {
      auth: { token },
      reconnection: true,
      reconnectionDelay: 1000,
      reconnectionDelayMax: 5000,
      reconnectionAttempts: this.maxReconnectAttempts,
    });
    
    this.setupEventListeners();
  }
  
  private setupEventListeners(): void {
    if (!this.socket) return;
    
    this.socket.on('connect', () => {
      console.log('Socket connected');
      this.reconnectAttempts = 0;
    });
    
    this.socket.on('disconnect', (reason) => {
      console.log('Socket disconnected:', reason);
      
      if (reason === 'io server disconnect') {
        // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰åˆ‡æ–­ã•ã‚ŒãŸå ´åˆã¯æ‰‹å‹•ã§å†æ¥ç¶š
        this.socket?.connect();
      }
    });
    
    this.socket.on('connect_error', (error) => {
      console.error('Socket connection error:', error);
      this.reconnectAttempts++;
      
      if (this.reconnectAttempts >= this.maxReconnectAttempts) {
        console.error('Max reconnect attempts reached');
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥
      }
    });
    
    this.socket.on('error', (error) => {
      console.error('Socket error:', error);
      // ã‚¨ãƒ©ãƒ¼é€šçŸ¥
    });
  }
  
  public disconnect(): void {
    if (this.socket) {
      this.socket.disconnect();
      this.socket = null;
    }
  }
  
  public emit<K extends keyof ClientToServerEvents>(
    event: K,
    ...args: Parameters<ClientToServerEvents[K]>
  ): void {
    if (!this.socket?.connected) {
      console.warn('Socket not connected');
      return;
    }
    
    this.socket.emit(event, ...args);
  }
  
  public on<K extends keyof ServerToClientEvents>(
    event: K,
    callback: ServerToClientEvents[K]
  ): void {
    if (!this.socket) {
      console.warn('Socket not initialized');
      return;
    }
    
    this.socket.on(event, callback);
  }
  
  public off<K extends keyof ServerToClientEvents>(
    event: K,
    callback?: ServerToClientEvents[K]
  ): void {
    if (!this.socket) return;
    
    if (callback) {
      this.socket.off(event, callback);
    } else {
      this.socket.off(event);
    }
  }
  
  public isConnected(): boolean {
    return this.socket?.connected ?? false;
  }
}

// ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
let socketManagerInstance: SocketManager | null = null;

export function getSocketManager(): SocketManager {
  if (!socketManagerInstance) {
    socketManagerInstance = new SocketManager();
  }
  return socketManagerInstance;
}
```

---

## ğŸ® çŠ¶æ…‹ç®¡ç†è¨­è¨ˆ

### Zustand ã‚¹ãƒˆã‚¢è¨­è¨ˆ

#### authStore - èªè¨¼çŠ¶æ…‹

```typescript
// stores/authStore.ts
import { create } from 'zustand';
import { persist } from 'zustand/middleware';
import type { User, UserStatus } from '@/types/user.types';

interface AuthState {
  user: User | null;
  isAuthenticated: boolean;
  isLoading: boolean;
  error: string | null;
}

interface AuthActions {
  setUser: (user: User) => void;
  clearUser: () => void;
  updateUserStatus: (status: UserStatus) => void;
  fetchUser: () => Promise<void>;
  login: (email: string, password: string) => Promise<void>;
  signup: (email: string, username: string, password: string) => Promise<void>;
  logout: () => Promise<void>;
}

export const useAuthStore = create<AuthState & AuthActions>()(
  persist(
    (set, get) => ({
      // State
      user: null,
      isAuthenticated: false,
      isLoading: false,
      error: null,
      
      // Actions
      setUser: (user) => set({ user, isAuthenticated: true }),
      
      clearUser: () => set({ user: null, isAuthenticated: false }),
      
      updateUserStatus: (status) => {
        const { user } = get();
        if (user) {
          set({ user: { ...user, status } });
        }
      },
      
      fetchUser: async () => {
        set({ isLoading: true, error: null });
        try {
          const response = await fetch('/api/users/me');
          if (response.ok) {
            const data = await response.json();
            set({ user: data.data.user, isAuthenticated: true });
          } else {
            set({ user: null, isAuthenticated: false });
          }
        } catch (error) {
          set({ error: 'Failed to fetch user', user: null, isAuthenticated: false });
        } finally {
          set({ isLoading: false });
        }
      },
      
      login: async (email, password) => {
        set({ isLoading: true, error: null });
        try {
          const response = await fetch('/api/auth/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, password }),
          });
          
          if (response.ok) {
            const data = await response.json();
            set({ user: data.data.user, isAuthenticated: true });
          } else {
            const error = await response.json();
            set({ error: error.error.message });
          }
        } catch (error) {
          set({ error: 'Login failed' });
        } finally {
          set({ isLoading: false });
        }
      },
      
      signup: async (email, username, password) => {
        set({ isLoading: true, error: null });
        try {
          const response = await fetch('/api/auth/signup', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, username, password }),
          });
          
          if (response.ok) {
            // ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—å¾Œã¯è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³
            await get().login(email, password);
          } else {
            const error = await response.json();
            set({ error: error.error.message });
          }
        } catch (error) {
          set({ error: 'Signup failed' });
        } finally {
          set({ isLoading: false });
        }
      },
      
      logout: async () => {
        try {
          await fetch('/api/auth/logout', { method: 'POST' });
          set({ user: null, isAuthenticated: false });
        } catch (error) {
          console.error('Logout error:', error);
        }
      },
    }),
    {
      name: 'auth-storage',
      partialize: (state) => ({ user: state.user }),
    }
  )
);
```

#### worldStore - ä»®æƒ³ç©ºé–“çŠ¶æ…‹

```typescript
// stores/worldStore.ts
import { create } from 'zustand';
import type { Room, User } from '@/types';

interface WorldState {
  currentRoom: Room | null;
  players: Map<string, PlayerState>;
  localPlayer: PlayerState | null;
}

interface PlayerState {
  userId: string;
  username: string;
  displayName: string | null;
  position: { x: number; y: number };
  velocity: { x: number; y: number };
  direction: 'up' | 'down' | 'left' | 'right';
  status: UserStatus;
}

interface WorldActions {
  setCurrentRoom: (room: Room) => void;
  addPlayer: (player: PlayerState) => void;
  removePlayer: (userId: string) => void;
  updatePlayer: (userId: string, updates: Partial<PlayerState>) => void;
  updateLocalPlayer: (updates: Partial<PlayerState>) => void;
  clearRoom: () => void;
}

export const useWorldStore = create<WorldState & WorldActions>((set) => ({
  // State
  currentRoom: null,
  players: new Map(),
  localPlayer: null,
  
  // Actions
  setCurrentRoom: (room) => set({ currentRoom: room }),
  
  addPlayer: (player) => set((state) => {
    const newPlayers = new Map(state.players);
    newPlayers.set(player.userId, player);
    return { players: newPlayers };
  }),
  
  removePlayer: (userId) => set((state) => {
    const newPlayers = new Map(state.players);
    newPlayers.delete(userId);
    return { players: newPlayers };
  }),
  
  updatePlayer: (userId, updates) => set((state) => {
    const player = state.players.get(userId);
    if (!player) return state;
    
    const newPlayers = new Map(state.players);
    newPlayers.set(userId, { ...player, ...updates });
    return { players: newPlayers };
  }),
  
  updateLocalPlayer: (updates) => set((state) => ({
    localPlayer: state.localPlayer
      ? { ...state.localPlayer, ...updates }
      : null,
  })),
  
  clearRoom: () => set({
    currentRoom: null,
    players: new Map(),
    localPlayer: null,
  }),
}));
```

#### chatStore - ãƒãƒ£ãƒƒãƒˆçŠ¶æ…‹

```typescript
// stores/chatStore.ts
import { create } from 'zustand';
import type { Message } from '@/types';

interface ChatState {
  messages: Message[];
  typingUsers: Set<string>;
  unreadCount: number;
}

interface ChatActions {
  addMessage: (message: Message) => void;
  addMessages: (messages: Message[]) => void;
  clearMessages: () => void;
  setTypingUser: (userId: string, isTyping: boolean) => void;
  incrementUnread: () => void;
  resetUnread: () => void;
}

export const useChatStore = create<ChatState & ChatActions>((set) => ({
  // State
  messages: [],
  typingUsers: new Set(),
  unreadCount: 0,
  
  // Actions
  addMessage: (message) => set((state) => ({
    messages: [...state.messages, message],
    unreadCount: state.unreadCount + 1,
  })),
  
  addMessages: (messages) => set((state) => ({
    messages: [...messages, ...state.messages],
  })),
  
  clearMessages: () => set({ messages: [], unreadCount: 0 }),
  
  setTypingUser: (userId, isTyping) => set((state) => {
    const newTypingUsers = new Set(state.typingUsers);
    if (isTyping) {
      newTypingUsers.add(userId);
    } else {
      newTypingUsers.delete(userId);
    }
    return { typingUsers: newTypingUsers };
  }),
  
  incrementUnread: () => set((state) => ({
    unreadCount: state.unreadCount + 1,
  })),
  
  resetUnread: () => set({ unreadCount: 0 }),
}));
```

---

## ğŸš¨ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

### ã‚¨ãƒ©ãƒ¼éšå±¤

```
ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°4å±¤æ§‹é€ 
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«1: äºˆé˜² (Prevention)
â”‚   â”œâ”€â”€ TypeScriptå‹ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ Zodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ ESLintãƒ«ãƒ¼ãƒ«
â”‚   â””â”€â”€ å…¥åŠ›ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«2: æ¤œçŸ¥ (Detection)
â”‚   â”œâ”€â”€ try-catchãƒ–ãƒ­ãƒƒã‚¯
â”‚   â”œâ”€â”€ Error Boundary
â”‚   â”œâ”€â”€ Promiseã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â””â”€â”€ ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ
â”‚
â”œâ”€â”€ ãƒ¬ãƒ™ãƒ«3: å›å¾© (Recovery)
â”‚   â”œâ”€â”€ è‡ªå‹•å†æ¥ç¶š
â”‚   â”œâ”€â”€ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
â”‚   â”œâ”€â”€ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ã®å¾©å…ƒ
â”‚   â””â”€â”€ Graceful Degradation
â”‚
â””â”€â”€ ãƒ¬ãƒ™ãƒ«4: é€šçŸ¥ (Notification)
    â”œâ”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
    â”œâ”€â”€ ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¨˜éŒ²
    â”œâ”€â”€ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚¢ãƒ©ãƒ¼ãƒˆ
    â””â”€â”€ é–‹ç™ºè€…é€šçŸ¥
```

### Error Boundaryå®Ÿè£…

```typescript
// components/ErrorBoundary.tsx
'use client';

import React, { Component, ErrorInfo, ReactNode } from 'react';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
  onError?: (error: Error, errorInfo: ErrorInfo) => void;
}

interface State {
  hasError: boolean;
  error: Error | null;
}

export class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false, error: null };
  }
  
  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }
  
  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {
    console.error('ErrorBoundary caught an error:', error, errorInfo);
    
    // ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å®Ÿè¡Œ
    this.props.onError?.(error, errorInfo);
    
    // ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    logErrorToService({
      error: error.message,
      stack: error.stack,
      componentStack: errorInfo.componentStack,
      timestamp: new Date().toISOString(),
    });
  }
  
  render(): ReactNode {
    if (this.state.hasError) {
      if (this.props.fallback) {
        return this.props.fallback;
      }
      
      return (
        <div className="error-boundary-fallback">
          <h2>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h2>
          <p>ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</p>
          <button
            onClick={() => this.setState({ hasError: false, error: null })}
          >
            å†è©¦è¡Œ
          </button>
        </div>
      );
    }
    
    return this.props.children;
  }
}
```

### API ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
// lib/api/apiClient.ts
import { z } from 'zod';

export class APIError extends Error {
  constructor(
    public code: string,
    message: string,
    public status: number,
    public details?: any
  ) {
    super(message);
    this.name = 'APIError';
  }
}

export async function apiRequest<T>(
  url: string,
  options: RequestInit = {}
): Promise<T> {
  try {
    const response = await fetch(url, {
      ...options,
      headers: {
        'Content-Type': 'application/json',
        ...options.headers,
      },
    });
    
    const data = await response.json();
    
    if (!response.ok) {
      throw new APIError(
        data.error.code,
        data.error.message,
        response.status,
        data.error.details
      );
    }
    
    return data;
  } catch (error) {
    if (error instanceof APIError) {
      throw error;
    }
    
    // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ç­‰
    throw new APIError(
      'NETWORK_ERROR',
      'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
      0
    );
  }
}

// ä½¿ç”¨ä¾‹
try {
  const data = await apiRequest<UserMeResponse>('/api/users/me');
  console.log(data.data.user);
} catch (error) {
  if (error instanceof APIError) {
    switch (error.code) {
      case 'UNAUTHORIZED':
        // ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
        break;
      case 'VALIDATION_ERROR':
        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
        break;
      default:
        // ä¸€èˆ¬ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
    }
  }
}
```

### WebSocket ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
// lib/socket/errorHandling.ts
export function handleSocketError(error: SocketErrorData): void {
  switch (error.code) {
    case 'AUTHENTICATION_ERROR':
      // èªè¨¼ã‚¨ãƒ©ãƒ¼ â†’ ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸
      window.location.href = '/login';
      break;
      
    case 'ROOM_NOT_FOUND':
      // ãƒ«ãƒ¼ãƒ ãŒå­˜åœ¨ã—ãªã„
      showToast('æŒ‡å®šã•ã‚ŒãŸãƒ«ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“', 'error');
      break;
      
    case 'MESSAGE_SEND_ERROR':
      // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡å¤±æ•— â†’ å†é€ã‚’ææ¡ˆ
      showRetryDialog('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ');
      break;
      
    default:
      // ä¸€èˆ¬ã‚¨ãƒ©ãƒ¼
      showToast('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
  }
}
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…

### èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

```typescript
// lib/auth/jwt.ts
import jwt from 'jsonwebtoken';

const ACCESS_TOKEN_SECRET = process.env.ACCESS_TOKEN_SECRET!;
const REFRESH_TOKEN_SECRET = process.env.REFRESH_TOKEN_SECRET!;

export interface JWTPayload {
  userId: string;
  username: string;
  email: string;
}

export function generateAccessToken(payload: JWTPayload): string {
  return jwt.sign(payload, ACCESS_TOKEN_SECRET, {
    expiresIn: '15m',
  });
}

export function generateRefreshToken(payload: JWTPayload): string {
  return jwt.sign(payload, REFRESH_TOKEN_SECRET, {
    expiresIn: '7d',
  });
}

export function verifyAccessToken(token: string): JWTPayload {
  try {
    return jwt.verify(token, ACCESS_TOKEN_SECRET) as JWTPayload;
  } catch (error) {
    throw new Error('Invalid access token');
  }
}

export function verifyRefreshToken(token: string): JWTPayload {
  try {
    return jwt.verify(token, REFRESH_TOKEN_SECRET) as JWTPayload;
  } catch (error) {
    throw new Error('Invalid refresh token');
  }
}
```

### Cookieè¨­å®š

```typescript
// lib/auth/cookies.ts
import { NextResponse } from 'next/server';

export function setAuthCookies(
  response: NextResponse,
  accessToken: string,
  refreshToken: string
): void {
  // ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ (15åˆ†)
  response.cookies.set('accessToken', accessToken, {
    httpOnly: true,
    secure: process.env.NODE_ENV === 'production',
    sameSite: 'strict',
    maxAge: 15 * 60, // 15åˆ†
    path: '/',
  });
  
  // ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ (7æ—¥)
  response.cookies.set('refreshToken', refreshToken, {
    httpOnly: true,
    secure: process.env.NODE_ENV === 'production',
    sameSite: 'strict',
    maxAge: 7 * 24 * 60 * 60, // 7æ—¥
    path: '/',
  });
}

export function clearAuthCookies(response: NextResponse): void {
  response.cookies.delete('accessToken');
  response.cookies.delete('refreshToken');
}
```

### CORSè¨­å®š

```typescript
// middleware.ts
import { NextRequest, NextResponse } from 'next/server';

const allowedOrigins = [
  process.env.NEXT_PUBLIC_APP_URL,
];

export function middleware(request: NextRequest) {
  const origin = request.headers.get('origin');
  
  // CORS ãƒã‚§ãƒƒã‚¯
  if (origin && !allowedOrigins.includes(origin)) {
    return new NextResponse(null, {
      status: 403,
      statusText: 'Forbidden',
      headers: {
        'Content-Type': 'text/plain',
      },
    });
  }
  
  // èªè¨¼ãƒã‚§ãƒƒã‚¯
  const accessToken = request.cookies.get('accessToken');
  
  if (request.nextUrl.pathname.startsWith('/api/') && 
      !request.nextUrl.pathname.startsWith('/api/auth/')) {
    if (!accessToken) {
      return NextResponse.json(
        { error: 'Unauthorized' },
        { status: 401 }
      );
    }
  }
  
  const response = NextResponse.next();
  
  // CORS ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
  if (origin) {
    response.headers.set('Access-Control-Allow-Origin', origin);
    response.headers.set(
      'Access-Control-Allow-Methods',
      'GET, POST, PUT, PATCH, DELETE, OPTIONS'
    );
    response.headers.set(
      'Access-Control-Allow-Headers',
      'Content-Type, Authorization'
    );
    response.headers.set('Access-Control-Allow-Credentials', 'true');
  }
  
  return response;
}

export const config = {
  matcher: '/api/:path*',
};
```

### ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ

```typescript
// lib/rateLimit.ts
import { Redis } from 'ioredis';

const redis = new Redis(process.env.REDIS_URL!);

interface RateLimitConfig {
  windowMs: number;
  max: number;
}

export async function rateLimit(
  identifier: string,
  config: RateLimitConfig
): Promise<{ allowed: boolean; remaining: number }> {
  const key = `ratelimit:${identifier}`;
  const now = Date.now();
  const windowStart = now - config.windowMs;
  
  // å¤ã„ã‚¨ãƒ³ãƒˆãƒªã‚’å‰Šé™¤
  await redis.zremrangebyscore(key, 0, windowStart);
  
  // ç¾åœ¨ã®ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—
  const count = await redis.zcard(key);
  
  if (count >= config.max) {
    return { allowed: false, remaining: 0 };
  }
  
  // æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½åŠ 
  await redis.zadd(key, now, `${now}`);
  await redis.expire(key, Math.ceil(config.windowMs / 1000));
  
  return {
    allowed: true,
    remaining: config.max - count - 1,
  };
}

// ä½¿ç”¨ä¾‹
export async function rateLimitMiddleware(
  request: NextRequest,
  identifier: string
) {
  const result = await rateLimit(identifier, {
    windowMs: 60 * 1000, // 1åˆ†
    max: 60, // 60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
  });
  
  if (!result.allowed) {
    return NextResponse.json(
      {
        error: {
          code: 'RATE_LIMIT_EXCEEDED',
          message: 'Too many requests',
        },
      },
      {
        status: 429,
        headers: {
          'X-RateLimit-Limit': '60',
          'X-RateLimit-Remaining': '0',
          'Retry-After': '60',
        },
      }
    );
  }
  
  return NextResponse.next({
    headers: {
      'X-RateLimit-Limit': '60',
      'X-RateLimit-Remaining': result.remaining.toString(),
    },
  });
}
```

---

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### Canvasæœ€é©åŒ–æˆ¦ç•¥

```typescript
// lib/canvas/optimizations.ts

/**
 * ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³Canvasã‚’ä½¿ç”¨ã—ãŸæç”»æœ€é©åŒ–
 */
export class OptimizedCanvasRenderer {
  private mainCanvas: HTMLCanvasElement;
  private offscreenCanvas: HTMLCanvasElement;
  private mainCtx: CanvasRenderingContext2D;
  private offscreenCtx: CanvasRenderingContext2D;
  private dirty = true;
  
  constructor(canvas: HTMLCanvasElement) {
    this.mainCanvas = canvas;
    this.mainCtx = canvas.getContext('2d')!;
    
    // ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³Canvasã®ä½œæˆ
    this.offscreenCanvas = document.createElement('canvas');
    this.offscreenCanvas.width = canvas.width;
    this.offscreenCanvas.height = canvas.height;
    this.offscreenCtx = this.offscreenCanvas.getContext('2d')!;
  }
  
  /**
   * æç”»ãŒå¿…è¦ãªå ´åˆã®ã¿æ›´æ–°
   */
  public render(): void {
    if (!this.dirty) return;
    
    // ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³Canvasã«æç”»
    this.offscreenCtx.clearRect(
      0,
      0,
      this.offscreenCanvas.width,
      this.offscreenCanvas.height
    );
    
    this.drawToOffscreen();
    
    // ãƒ¡ã‚¤ãƒ³Canvasã«è»¢é€
    this.mainCtx.clearRect(
      0,
      0,
      this.mainCanvas.width,
      this.mainCanvas.height
    );
    this.mainCtx.drawImage(this.offscreenCanvas, 0, 0);
    
    this.dirty = false;
  }
  
  private drawToOffscreen(): void {
    // å®Ÿéš›ã®æç”»å‡¦ç†
  }
  
  public markDirty(): void {
    this.dirty = true;
  }
}

/**
 * è¡¨ç¤ºç¯„å›²å¤–ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚«ãƒªãƒ³ã‚°
 */
export class ViewportCulling {
  constructor(
    private viewportWidth: number,
    private viewportHeight: number,
    private margin = 100
  ) {}
  
  public isVisible(
    objectX: number,
    objectY: number,
    objectWidth: number,
    objectHeight: number,
    cameraX: number,
    cameraY: number
  ): boolean {
    return (
      objectX + objectWidth >= cameraX - this.margin &&
      objectX <= cameraX + this.viewportWidth + this.margin &&
      objectY + objectHeight >= cameraY - this.margin &&
      objectY <= cameraY + this.viewportHeight + this.margin
    );
  }
}
```

### Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ€é©åŒ–

```typescript
// components/optimized/MemoizedComponent.tsx
import { memo } from 'react';

/**
 * ãƒ¡ãƒ¢åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 */
export const MessageItem = memo(
  function MessageItem({ message }: { message: Message }) {
    return (
      <div className="message-item">
        <span>{message.content}</span>
      </div>
    );
  },
  (prevProps, nextProps) => {
    // ã‚«ã‚¹ã‚¿ãƒ æ¯”è¼ƒé–¢æ•°
    return prevProps.message.id === nextProps.message.id &&
           prevProps.message.content === nextProps.message.content;
  }
);

/**
 * useCallbackã¨useMemoã®é©åˆ‡ãªä½¿ç”¨
 */
export function ChatPanel() {
  const messages = useChatStore((state) => state.messages);
  const addMessage = useChatStore((state) => state.addMessage);
  
  // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ¡ãƒ¢åŒ–
  const handleSendMessage = useCallback((content: string) => {
    addMessage({
      id: generateId(),
      content,
      senderId: getCurrentUserId(),
      createdAt: new Date().toISOString(),
    });
  }, [addMessage]);
  
  // é‡ã„è¨ˆç®—ã®ãƒ¡ãƒ¢åŒ–
  const sortedMessages = useMemo(() => {
    return [...messages].sort((a, b) => 
      new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()
    );
  }, [messages]);
  
  return (
    <div>
      {sortedMessages.map((msg) => (
        <MessageItem key={msg.id} message={msg} />
      ))}
      <MessageInput onSend={handleSendMessage} />
    </div>
  );
}
```

### Socket.io ã‚¤ãƒ™ãƒ³ãƒˆæœ€é©åŒ–

```typescript
// lib/socket/throttle.ts
/**
 * ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡ã®é »åº¦åˆ¶é™
 */
export function throttle<T extends (...args: any[]) => void>(
  func: T,
  delay: number
): (...args: Parameters<T>) => void {
  let lastCall = 0;
  let timeoutId: NodeJS.Timeout | null = null;
  
  return function (...args: Parameters<T>) {
    const now = Date.now();
    
    if (now - lastCall >= delay) {
      lastCall = now;
      func(...args);
    } else {
      if (timeoutId) {
        clearTimeout(timeoutId);
      }
      
      timeoutId = setTimeout(() => {
        lastCall = Date.now();
        func(...args);
      }, delay - (now - lastCall));
    }
  };
}

// ä½¿ç”¨ä¾‹
const throttledMove = throttle((position: { x: number; y: number }) => {
  socket.emit('player:move', { position });
}, 50); // 50msã”ã¨ã«æœ€å¤§1å›
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆéšå±¤

```
ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
â”‚
â”œâ”€â”€ E2Eãƒ†ã‚¹ãƒˆ (5%)
â”‚   â””â”€â”€ Playwright
â”‚
â”œâ”€â”€ çµ±åˆãƒ†ã‚¹ãƒˆ (15%)
â”‚   â””â”€â”€ Jest + React Testing Library
â”‚
â”œâ”€â”€ å˜ä½“ãƒ†ã‚¹ãƒˆ (60%)
â”‚   â””â”€â”€ Jest + Vitest
â”‚
â””â”€â”€ å‹ãƒã‚§ãƒƒã‚¯ (20%)
    â””â”€â”€ TypeScript
```

### å˜ä½“ãƒ†ã‚¹ãƒˆä¾‹

```typescript
// __tests__/services/authService.test.ts
import { describe, it, expect, beforeEach, jest } from '@jest/globals';
import { authService } from '@/services/authService';
import { userRepository } from '@/repositories/userRepository';
import bcrypt from 'bcrypt';

jest.mock('@/repositories/userRepository');
jest.mock('bcrypt');

describe('AuthService', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  
  describe('signup', () => {
    it('should create a new user with hashed password', async () => {
      const mockUser = {
        id: '123',
        email: 'test@example.com',
        username: 'testuser',
        passwordHash: 'hashed_password',
      };
      
      (bcrypt.hash as jest.Mock).mockResolvedValue('hashed_password');
      (userRepository.create as jest.Mock).mockResolvedValue(mockUser);
      
      const result = await authService.signup({
        email: 'test@example.com',
        username: 'testuser',
        password: 'password123',
      });
      
      expect(bcrypt.hash).toHaveBeenCalledWith('password123', 10);
      expect(userRepository.create).toHaveBeenCalledWith({
        email: 'test@example.com',
        username: 'testuser',
        passwordHash: 'hashed_password',
      });
      expect(result).toEqual(mockUser);
    });
    
    it('should throw error if email already exists', async () => {
      (userRepository.findByEmail as jest.Mock).mockResolvedValue({
        id: '123',
        email: 'test@example.com',
      });
      
      await expect(authService.signup({
        email: 'test@example.com',
        username: 'testuser',
        password: 'password123',
      })).rejects.toThrow('Email already exists');
    });
  });
});
```

### çµ±åˆãƒ†ã‚¹ãƒˆä¾‹

```typescript
// __tests__/integration/auth.test.tsx
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { LoginForm } from '@/components/features/auth/LoginForm';
import { useAuthStore } from '@/stores/authStore';

describe('Login Integration', () => {
  it('should login successfully with valid credentials', async () => {
    render(<LoginForm />);
    
    const emailInput = screen.getByLabelText('Email');
    const passwordInput = screen.getByLabelText('Password');
    const submitButton = screen.getByRole('button', { name: 'Login' });
    
    fireEvent.change(emailInput, { target: { value: 'test@example.com' } });
    fireEvent.change(passwordInput, { target: { value: 'password123' } });
    fireEvent.click(submitButton);
    
    await waitFor(() => {
      const { isAuthenticated } = useAuthStore.getState();
      expect(isAuthenticated).toBe(true);
    });
  });
});
```

### E2Eãƒ†ã‚¹ãƒˆä¾‹

```typescript
// __tests__/e2e/user-flow.spec.ts
import { test, expect } from '@playwright/test';

test('complete user flow', async ({ page }) => {
  // ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
  await page.goto('/signup');
  await page.fill('input[name="email"]', 'newuser@example.com');
  await page.fill('input[name="username"]', 'newuser');
  await page.fill('input[name="password"]', 'SecurePass123');
  await page.click('button[type="submit"]');
  
  // ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«é·ç§»
  await expect(page).toHaveURL('/world');
  
  // ä»®æƒ³ç©ºé–“ã«å…¥ã‚‹
  await expect(page.locator('canvas')).toBeVisible();
  
  // ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡
  await page.fill('input[placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›"]', 'Hello World');
  await page.press('input[placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›"]', 'Enter');
  
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
  await expect(page.locator('text=Hello World')).toBeVisible();
});
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥

### ç’°å¢ƒæ§‹æˆ

```
ç’°å¢ƒ
â”œâ”€â”€ Development (ãƒ­ãƒ¼ã‚«ãƒ«)
â”‚   â”œâ”€â”€ Docker Compose
â”‚   â”œâ”€â”€ ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰æœ‰åŠ¹
â”‚   â””â”€â”€ ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«æœ‰åŠ¹
â”‚
â”œâ”€â”€ Staging (ãƒ†ã‚¹ãƒˆç’°å¢ƒ)
â”‚   â”œâ”€â”€ Vercel Preview
â”‚   â”œâ”€â”€ æœ¬ç•ªåŒç­‰ã®è¨­å®š
â”‚   â””â”€â”€ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”‚
â””â”€â”€ Production (æœ¬ç•ªç’°å¢ƒ)
    â”œâ”€â”€ Vercel (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)
    â”œâ”€â”€ Render/Railway (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)
    â”œâ”€â”€ Supabase/Neon (PostgreSQL)
    â””â”€â”€ Upstash Redis (Redis)
```

### CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  test:
    runs-on: ubuntu-latest
    
    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: postgres
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run linter
        run: npm run lint
      
      - name: Run type check
        run: npm run type-check
      
      - name: Run unit tests
        run: npm run test:unit
      
      - name: Run integration tests
        run: npm run test:integration
        env:
          DATABASE_URL: postgresql://postgres:postgres@localhost:5432/test
  
  deploy-staging:
    needs: test
    if: github.ref == 'refs/heads/develop'
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Deploy to Vercel (Staging)
        uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
  
  deploy-production:
    needs: test
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Deploy to Vercel (Production)
        uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
```

### ç’°å¢ƒå¤‰æ•°ç®¡ç†

```bash
# .env.example
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
DATABASE_URL=postgresql://user:password@localhost:5432/schoolverse

# Redis
REDIS_URL=redis://localhost:6379

# JWT
ACCESS_TOKEN_SECRET=your_access_token_secret_here
REFRESH_TOKEN_SECRET=your_refresh_token_secret_here

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SOCKET_URL=http://localhost:3001

# å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹
# (å°†æ¥çš„ã«è¿½åŠ )
```

---

## ğŸ“Š ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ»ãƒ­ã‚®ãƒ³ã‚°

### ãƒ­ã‚®ãƒ³ã‚°æˆ¦ç•¥

```typescript
// lib/logger.ts
import pino from 'pino';

const logger = pino({
  level: process.env.LOG_LEVEL || 'info',
  transport: {
    target: 'pino-pretty',
    options: {
      colorize: true,
    },
  },
});

export function logInfo(message: string, data?: any): void {
  logger.info({ ...data }, message);
}

export function logError(message: string, error: Error, data?: any): void {
  logger.error({
    ...data,
    error: {
      message: error.message,
      stack: error.stack,
    },
  }, message);
}

export function logDebug(message: string, data?: any): void {
  logger.debug({ ...data }, message);
}
```

---

## âœ… å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Phase 0: å…±é€šåŸºç›¤ / ãƒ†ã‚¹ãƒˆä½“åˆ¶
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ (`requirements.md`, `DETAILED_DESIGN.md`, `DOCKER_SETUP.md`, `README.md`)
- [x] ã‚¿ã‚¤ãƒ—ãƒã‚§ãƒƒã‚¯ / Lint ã®è‡ªå‹•åŒ–
- [x] Vitest å°å…¥ (`npm run test:unit`)
- [ ] CI ã§ `lint/type-check/test` ã‚’ä¸¦è¡Œå®Ÿè¡Œ

### Phase 1.5: è¿½åŠ æ©Ÿèƒ½è¨ˆç”» (v2.1.0)
- [ ] ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ãƒˆåŸºç›¤ (fabric.js, ä¿å­˜API)
  - [x] Prisma Notebook/NotebookPage ãƒ¢ãƒ‡ãƒ«è¿½åŠ 
  - [x] ãƒãƒ¼ãƒˆä¿å­˜ãƒ»å…±æœ‰ API (POST/PUT/GET)
  - [ ] Canvas ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ / fabric.js é€£æº UI
  - [x] ãƒãƒ¼ãƒˆä¿å­˜ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
  - [x] ãƒãƒ¼ãƒˆä¿å­˜ API ã®æ“¬ä¼¼E2Eãƒ†ã‚¹ãƒˆ
- [ ] OCR æ–‡å­—èªè­˜ (Google Vision / tesseract)
  - [ ] Supabase Storage ã‹ã‚‰ OCR ã‚¸ãƒ§ãƒ–æŠ•å…¥
  - [ ] Google Vision / tesseract ãƒ©ãƒƒãƒ‘ãƒ¼å®Ÿè£…
  - [ ] èªè­˜çµæœãƒ¬ãƒ“ãƒ¥ãƒ¼ UI + ãƒ†ã‚­ã‚¹ãƒˆæ•´å½¢
  - [ ] OCR çµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒ†ã‚¹ãƒˆæ•´å‚™
- [ ] AI è¦ç´„ãƒ»ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ãƒ»å­¦ç¿’ã‚¢ãƒ‰ãƒã‚¤ã‚¹é€£æº
  - [ ] OpenAI API ãƒ©ãƒƒãƒ‘ãƒ¼æ•´å‚™ (è¦ç´„/æ€è€ƒæ•´ç†)
  - [ ] ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ (ãƒãƒ¼ãƒ‰/ã‚¨ãƒƒã‚¸æ§‹ç¯‰)
  - [ ] å­¦ç¿’ã‚¢ãƒ‰ãƒã‚¤ã‚¹æ¨å¥¨ã‚¢ãƒ«ã‚´è¿½åŠ 
  - [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¤œè¨¼ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] ãƒãƒ¼ãƒˆã‚µãƒãƒªãƒ¼ / å­¦ç¿’ã‚¤ãƒ³ã‚µã‚¤ãƒˆ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åæ˜ 
  - [ ] ãƒãƒ¼ãƒˆçµ±è¨ˆ API (ä»Šé€± / AIè¦ç´„æ¸ˆã¿ / å…±æœ‰)
  - [ ] å­¦ç¿’ã‚¤ãƒ³ã‚µã‚¤ãƒˆ UI (ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ™‚é–“ãƒ»ã‚¹ã‚³ã‚¢)
  - [ ] Zustand ã‚¹ãƒˆã‚¢ / ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
  - [ ] ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ†ã‚¹ãƒˆ
### Phase 1: MVP (Week 1-8)

**Week 1: ç’°å¢ƒæ§‹ç¯‰**
- [x] Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
- [x] TypeScriptè¨­å®š
- [x] ESLint/Prettierè¨­å®š
- [x] Docker Composeä½œæˆ
- [x] PostgreSQLæ¥ç¶šç¢ºèª
- [x] Redisæ¥ç¶šç¢ºèª
- [x] Prisma ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] å…±é€šå‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

**Week 2-3: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **
- [x] Prisma User ãƒ¢ãƒ‡ãƒ«ä½œæˆ
- [x] bcryptçµ±åˆ
- [x] JWTç”Ÿæˆãƒ»æ¤œè¨¼é–¢æ•°
- [x] ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—APIå®Ÿè£…
- [x] ãƒ­ã‚°ã‚¤ãƒ³APIå®Ÿè£…
- [x] ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³APIå®Ÿè£…
- [x] ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [x] ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [x] èªè¨¼çŠ¶æ…‹ç®¡ç† (Zustand)
- [x] èªè¨¼ãƒ†ã‚¹ãƒˆ (Vitest)

**Week 4-5: ä»®æƒ³ç©ºé–“**
- [ ] CanvasåˆæœŸåŒ–
- [ ] ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—
- [ ] ã‚¿ã‚¤ãƒ«ãƒãƒƒãƒ—æç”»
- [ ] ã‚¢ãƒã‚¿ãƒ¼æç”»ã‚·ã‚¹ãƒ†ãƒ 
- [ ] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›å‡¦ç†
- [ ] ç§»å‹•ãƒ­ã‚¸ãƒƒã‚¯
- [ ] è¡çªæ¤œçŸ¥
- [ ] ã‚«ãƒ¡ãƒ©è¿½å¾“
- [x] Socket.ioã‚µãƒ¼ãƒãƒ¼è¨­å®š
- [ ] Socket.ioã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
- [ ] ä½ç½®åŒæœŸã‚¤ãƒ™ãƒ³ãƒˆ
- [ ] è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤º
- [ ] ä»®æƒ³ç©ºé–“ãƒ†ã‚¹ãƒˆ

**Week 6-7: ãƒãƒ£ãƒƒãƒˆ**
- [ ] Message ãƒ¢ãƒ‡ãƒ«ä½œæˆ
- [ ] ãƒãƒ£ãƒƒãƒˆUIå®Ÿè£…
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆ
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆ
- [ ] ãƒ«ãƒ¼ãƒ ãƒãƒ£ãƒƒãƒˆå®Ÿè£…
- [ ] ãƒãƒ£ãƒƒãƒˆå±¥æ­´è¡¨ç¤º
- [ ] ãƒãƒ£ãƒƒãƒˆå±¥æ­´API
- [ ] ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
- [ ] ãƒãƒ£ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

**Week 8: MVPçµ±åˆ**
- [ ] å…¨æ©Ÿèƒ½çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] ãƒã‚°ä¿®æ­£
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

---

## ğŸ“ é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

```typescript
/**
 * ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡
 */
// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: PascalCase
UserProfile.tsx
MessageList.tsx

// ãƒ•ãƒƒã‚¯: camelCase with 'use' prefix
useAuth.ts
useSocket.ts

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£: camelCase
validation.ts
formatting.ts

// å‹å®šç¾©: camelCase with '.types' suffix
user.types.ts
api.types.ts

/**
 * ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„
 */
// ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼
/**
 * @file UserProfile.tsx
 * @description ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 * @author Your Name
 * @created 2025-10-22
 */

// é–¢æ•°JSDoc
/**
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—
 * @param userId - ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
 * @returns ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯null
 * @throws {DatabaseError} ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼æ™‚
 */
async function fetchUser(userId: string): Promise<User | null> {
  // implementation
}

// ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¡ãƒ³ãƒˆ (è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã®ã¿)
// WebRTCã®ICEå€™è£œã‚’åé›†ä¸­ã¯æ¥ç¶šã‚’å¾…æ©Ÿ
if (connectionState === 'gathering') {
  await waitForIceCandidates();
}
```

### Gitãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```bash
# ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
main          # æœ¬ç•ªç’°å¢ƒ
develop       # é–‹ç™ºç’°å¢ƒ
feature/*     # æ©Ÿèƒ½é–‹ç™º
bugfix/*      # ãƒã‚°ä¿®æ­£
hotfix/*      # ç·Šæ€¥ä¿®æ­£

# ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (Conventional Commits)
feat: æ–°æ©Ÿèƒ½è¿½åŠ 
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
style: ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
chore: ãƒ“ãƒ«ãƒ‰ãƒ»è¨­å®šå¤‰æ›´

# ä¾‹
feat(auth): implement JWT authentication
fix(canvas): resolve avatar rendering issue
docs(api): update API documentation
```

---

## ğŸ“š å‚è€ƒè³‡æ–™ãƒ»ãƒªãƒ³ã‚¯

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Next.js Documentation](https://nextjs.org/docs)
- [React Documentation](https://react.dev/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [Prisma Documentation](https://www.prisma.io/docs)
- [Socket.io Documentation](https://socket.io/docs/)
- [WebRTC API](https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API)

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- [React Best Practices](https://react.dev/learn)
- [TypeScript Best Practices](https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html)
- [Next.js Production Checklist](https://nextjs.org/docs/pages/building-your-application/deploying/production-checklist)

---

## ğŸ”„ å¤‰æ›´å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | ä½œæˆè€… |
|-----------|------|----------|--------|
| 1.0.0 | 2025-10-22 | åˆç‰ˆä½œæˆ | Claude + User |

---

## âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ç›´è¿‘ã§å®Œäº†**
   - [x] é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
   - [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ä½œæˆ
   - [x] Git åˆæœŸåŒ–

2. **ä»Šé€±ä¸­ã«å®Ÿè¡Œ**
   - [x] Phase 1 Week 1 ã‚¿ã‚¹ã‚¯ç€æ‰‹
   - [x] èªè¨¼ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼

3. **æ¥é€±ä»¥é™**
   - [ ] MVP é–‹ç™ºæœ¬æ ¼é–‹å§‹
   - [ ] å®šæœŸçš„ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°
---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯é–‹ç™ºã®ç¾…é‡ç›¤ã§ã™ã€‚**
å®Ÿè£…ä¸­ã«ç–‘å•ãŒç”Ÿã˜ãŸã‚‰ã€å¸¸ã«ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ç«‹ã¡è¿”ã‚Šã€
è¨­è¨ˆã®æ„å›³ã¨åˆ¶ç´„ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

**æ‰¿èª**

â–¡ è¦ä»¶å®šç¾©æ›¸ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†  
â–¡ æŠ€è¡“è¨­è¨ˆæ‰¿èª  
â–¡ å®Ÿè£…é–‹å§‹æ‰¿èª

---
## è¿½åŠ æ©Ÿèƒ½è¨ˆç”» (v2.1.0)

```
ã€è¿½åŠ æ©Ÿèƒ½ã€‘
â”œâ”€ ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ 
â”‚  â”œâ”€ PDFãƒ»ç”»åƒã¸ã®æç”»ãƒ»æ³¨é‡ˆ
â”‚  â”œâ”€ æ‰‹æ›¸ããƒ¡ãƒ¢æ©Ÿèƒ½
â”‚  â””â”€ ãƒãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹åŒæœŸ
â”‚
â”œâ”€ OCR(æ–‡å­—èªè­˜)ã‚·ã‚¹ãƒ†ãƒ 
â”‚  â”œâ”€ æ‰‹æ›¸ãæ–‡å­—èªè­˜
â”‚  â”œâ”€ å°åˆ·æ–‡å­—èªè­˜
â”‚  â””â”€ ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
â”‚
â””â”€ AIæ€è€ƒæ•´ç†ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
   â”œâ”€ ãƒ¡ãƒ¢ãƒ»ãƒãƒ¼ãƒˆè‡ªå‹•è¦ç´„
   â”œâ”€ ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ç”Ÿæˆ
   â””â”€ å­¦ç¿’ã‚¢ãƒ‰ãƒã‚¤ã‚¹ææ¡ˆ
```

## 5. æ©Ÿèƒ½è¦æ±‚ (v2.1.0 æ‹¡å¼µç‰ˆ)

### 5.1 æ©Ÿèƒ½ä¸€è¦§ãƒãƒƒãƒ—(å®Œå…¨ç‰ˆ)

```
EduVerse v2.1.0 æ©Ÿèƒ½ãƒ„ãƒªãƒ¼
â”‚
â”œâ”€ (æ—¢å­˜æ©Ÿèƒ½: èªè¨¼ãƒ»3Dç©ºé–“ãƒ»ã‚¢ãƒã‚¿ãƒ¼ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
â”‚
â”œâ”€ ã€NEWã€‘ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  (v2.1.0)
â”‚  â”‚
â”‚  â”œâ”€ ãƒãƒ¼ãƒˆä½œæˆãƒ»ç®¡ç†
â”‚  â”‚  â”œâ”€ æ–°è¦ãƒãƒ¼ãƒˆä½œæˆ
â”‚  â”‚  â”‚  â”œâ”€ ç©ºç™½ãƒãƒ¼ãƒˆ
â”‚  â”‚  â”‚  â”œâ”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ
â”‚  â”‚  â”‚  â”‚  â”œâ”€ æ–¹çœ¼ç´™
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ç½«ç·šãƒãƒ¼ãƒˆ
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ã‚³ãƒ¼ãƒãƒ«ãƒãƒ¼ãƒˆ
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—
â”‚  â”‚  â”‚  â”‚  â””â”€ æ•°å­¦ãƒãƒ¼ãƒˆ(ã‚°ãƒ©ãƒ•ç”¨ç´™)
â”‚  â”‚  â”‚  â””â”€ PDFã‚¤ãƒ³ãƒãƒ¼ãƒˆ
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ãƒãƒ¼ãƒˆä¸€è¦§
â”‚  â”‚  â”‚  â”œâ”€ ç§‘ç›®åˆ¥ãƒ•ã‚©ãƒ«ãƒ€
â”‚  â”‚  â”‚  â”œâ”€ ã‚¿ã‚°ç®¡ç†
â”‚  â”‚  â”‚  â”œâ”€ æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚  â”‚  â”‚  â”œâ”€ æœ€è¿‘ä½¿ç”¨ã—ãŸãƒãƒ¼ãƒˆ
â”‚  â”‚  â”‚  â””â”€ ãŠæ°—ã«å…¥ã‚Š
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ ãƒãƒ¼ãƒˆå…±æœ‰
â”‚  â”‚     â”œâ”€ ã‚¯ãƒ©ã‚¹ãƒ¡ãƒ¼ãƒˆã¨å…±æœ‰
â”‚  â”‚     â”œâ”€ æ•™å¸«ã«æå‡º
â”‚  â”‚     â””â”€ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ(PDF/PNG)
â”‚  â”‚
â”‚  â”œâ”€ æç”»ãƒ»æ³¨é‡ˆãƒ„ãƒ¼ãƒ«
â”‚  â”‚  â”œâ”€ ãƒšãƒ³ãƒ„ãƒ¼ãƒ«
â”‚  â”‚  â”‚  â”œâ”€ å¤ªã•èª¿æ•´(1-20px)
â”‚  â”‚  â”‚  â”œâ”€ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
â”‚  â”‚  â”‚  â”‚  â”œâ”€ åŸºæœ¬è‰²(é»’ãƒ»èµ¤ãƒ»é’ãƒ»ç·‘ç­‰)
â”‚  â”‚  â”‚  â”‚  â””â”€ ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼
â”‚  â”‚  â”‚  â”œâ”€ é€æ˜åº¦èª¿æ•´
â”‚  â”‚  â”‚  â””â”€ ç­†åœ§æ„ŸçŸ¥(ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œ)
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ è›å…‰ãƒšãƒ³
â”‚  â”‚  â”‚  â”œâ”€ åŠé€æ˜ãƒãƒ¼ã‚«ãƒ¼
â”‚  â”‚  â”‚  â”œâ”€ è¤‡æ•°è‰²(é»„ãƒ»ãƒ”ãƒ³ã‚¯ãƒ»é’ãƒ»ç·‘)
â”‚  â”‚  â”‚  â””â”€ å¤ªã•èª¿æ•´
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ æ¶ˆã—ã‚´ãƒ 
â”‚  â”‚  â”‚  â”œâ”€ éƒ¨åˆ†æ¶ˆå»
â”‚  â”‚  â”‚  â”œâ”€ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå˜ä½æ¶ˆå»
â”‚  â”‚  â”‚  â””â”€ å…¨æ¶ˆå»
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ å›³å½¢ãƒ„ãƒ¼ãƒ«
â”‚  â”‚  â”‚  â”œâ”€ ç›´ç·š
â”‚  â”‚  â”‚  â”œâ”€ çŸ¢å°
â”‚  â”‚  â”‚  â”œâ”€ å››è§’å½¢(å¡—ã‚Šã¤ã¶ã—ãƒ»æ ç·š)
â”‚  â”‚  â”‚  â”œâ”€ å††ãƒ»æ¥•å††
â”‚  â”‚  â”‚  â”œâ”€ ä¸‰è§’å½¢
â”‚  â”‚  â”‚  â””â”€ è‡ªç”±å¤šè§’å½¢
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ãƒ†ã‚­ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«
â”‚  â”‚  â”‚  â”œâ”€ ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹æŒ¿å…¥
â”‚  â”‚  â”‚  â”œâ”€ ãƒ•ã‚©ãƒ³ãƒˆé¸æŠ
â”‚  â”‚  â”‚  â”œâ”€ ã‚µã‚¤ã‚ºèª¿æ•´
â”‚  â”‚  â”‚  â”œâ”€ è‰²å¤‰æ›´
â”‚  â”‚  â”‚  â””â”€ å¤ªå­—ãƒ»æ–œä½“
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ»ã‚¢ã‚¤ã‚³ãƒ³
â”‚  â”‚  â”‚  â”œâ”€ ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯(âœ“ âœ—)
â”‚  â”‚  â”‚  â”œâ”€ æ˜Ÿãƒãƒ¼ã‚¯(â˜…)
â”‚  â”‚  â”‚  â”œâ”€ é‡è¦(!?)
â”‚  â”‚  â”‚  â”œâ”€ çµµæ–‡å­—
â”‚  â”‚  â”‚  â””â”€ ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ä»˜ç®‹æ©Ÿèƒ½
â”‚  â”‚  â”‚  â”œâ”€ ã‚«ãƒ©ãƒ•ãƒ«ä»˜ç®‹
â”‚  â”‚  â”‚  â”œâ”€ ã‚µã‚¤ã‚ºå¤‰æ›´
â”‚  â”‚  â”‚  â”œâ”€ ç§»å‹•ãƒ»é…ç½®
â”‚  â”‚  â”‚  â””â”€ ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†
â”‚  â”‚     â”œâ”€ ãƒ¬ã‚¤ãƒ¤ãƒ¼è¿½åŠ ãƒ»å‰Šé™¤
â”‚  â”‚     â”œâ”€ è¡¨ç¤ºãƒ»éè¡¨ç¤º
â”‚  â”‚     â”œâ”€ é †åºå¤‰æ›´
â”‚  â”‚     â””â”€ ãƒ­ãƒƒã‚¯æ©Ÿèƒ½
â”‚  â”‚
â”‚  â”œâ”€ PDFãƒ»ç”»åƒã¸ã®æ³¨é‡ˆ
â”‚  â”‚  â”œâ”€ PDFã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â”‚  â”‚  â”‚  â”œâ”€ ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
â”‚  â”‚  â”‚  â”œâ”€ ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ
â”‚  â”‚  â”‚  â””â”€ æœ€å¤§ã‚µã‚¤ã‚º: 20MB
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â”‚  â”‚  â”‚  â”œâ”€ JPG/PNG/HEICå¯¾å¿œ
â”‚  â”‚  â”‚  â”œâ”€ ã‚«ãƒ¡ãƒ©æ’®å½±(ãƒ¢ãƒã‚¤ãƒ«)
â”‚  â”‚  â”‚  â””â”€ è‡ªå‹•å›è»¢è£œæ­£
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚  â”‚  â”‚  â”œâ”€ ã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤º
â”‚  â”‚  â”‚  â”œâ”€ ãƒšãƒ¼ã‚¸ã‚¸ãƒ£ãƒ³ãƒ—
â”‚  â”‚  â”‚  â””â”€ è¤‡æ•°ãƒšãƒ¼ã‚¸ç·¨é›†
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ æç”»ãƒ¢ãƒ¼ãƒ‰
â”‚  â”‚  â”‚  â”œâ”€ å…¨æç”»ãƒ„ãƒ¼ãƒ«ä½¿ç”¨å¯èƒ½
â”‚  â”‚  â”‚  â”œâ”€ å…ƒãƒ‡ãƒ¼ã‚¿ä¿è­·(éç ´å£Šç·¨é›†)
â”‚  â”‚  â”‚  â””â”€ æ³¨é‡ˆãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚  â”‚     â”œâ”€ æ³¨é‡ˆä»˜ãPDFå‡ºåŠ›
â”‚  â”‚     â”œâ”€ ç”»åƒå½¢å¼(PNG/JPG)
â”‚  â”‚     â””â”€ å°åˆ·ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæœ€é©åŒ–
â”‚  â”‚
â”‚  â”œâ”€ æ‰‹æ›¸ãèªè­˜ãƒ»å¤‰æ›
â”‚  â”‚  â”œâ”€ æ‰‹æ›¸ãæ–‡å­—å…¥åŠ›
â”‚  â”‚  â”‚  â”œâ”€ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ èªè­˜
â”‚  â”‚  â”‚  â”œâ”€ å¾Œå‡¦ç†ä¸€æ‹¬å¤‰æ›
â”‚  â”‚  â”‚  â””â”€ æ‰‹æ›¸ãä¿æŒã‚ªãƒ—ã‚·ãƒ§ãƒ³
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ å›³å½¢èªè­˜
â”‚  â”‚  â”‚  â”œâ”€ æ‰‹æ›¸ãå›³å½¢â†’æ•´å½¢å›³å½¢
â”‚  â”‚  â”‚  â”œâ”€ å††ãƒ»å››è§’ãƒ»ä¸‰è§’èªè­˜
â”‚  â”‚  â”‚  â””â”€ çŸ¢å°ãƒ»ç·šã®æ•´å½¢
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ æ•°å¼èªè­˜
â”‚  â”‚     â”œâ”€ æ‰‹æ›¸ãæ•°å¼â†’LaTeX
â”‚  â”‚     â”œâ”€ åˆ†æ•°ãƒ»ãƒ«ãƒ¼ãƒˆèªè­˜
â”‚  â”‚     â””â”€ è¤‡é›‘ãªæ•°å¼å¯¾å¿œ
â”‚  â”‚
â”‚  â””â”€ ç·¨é›†ãƒ»æ“ä½œæ©Ÿèƒ½
â”‚     â”œâ”€ Undo/Redo (ç„¡åˆ¶é™)
â”‚     â”œâ”€ ã‚³ãƒ”ãƒ¼ãƒ»ãƒšãƒ¼ã‚¹ãƒˆ
â”‚     â”œâ”€ é¸æŠãƒ„ãƒ¼ãƒ«(ãªã’ãªã‚ãƒ»å››è§’)
â”‚     â”œâ”€ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç§»å‹•ãƒ»ãƒªã‚µã‚¤ã‚º
â”‚     â”œâ”€ ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
â”‚     â”œâ”€ å›è»¢ãƒ»åè»¢
â”‚     â””â”€ æ•´åˆ—ãƒ„ãƒ¼ãƒ«
â”‚
â”œâ”€ ã€NEWã€‘OCR(æ–‡å­—èªè­˜)ã‚·ã‚¹ãƒ†ãƒ  (v2.1.0)
â”‚  â”‚
â”‚  â”œâ”€ ç”»åƒã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
â”‚  â”‚  â”œâ”€ å†™çœŸæ’®å½±
â”‚  â”‚  â”‚  â”œâ”€ ã‚«ãƒ¡ãƒ©èµ·å‹•
â”‚  â”‚  â”‚  â”œâ”€ ãƒãƒ¼ãƒˆãƒ»æ•™ç§‘æ›¸æ’®å½±
â”‚  â”‚  â”‚  â”œâ”€ ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰æ’®å½±
â”‚  â”‚  â”‚  â””â”€ ãƒ†ã‚¹ãƒˆç”¨ç´™æ’®å½±
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â”‚  â”‚  â”‚  â”œâ”€ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‹ã‚‰é¸æŠ
â”‚  â”‚  â”‚  â”œâ”€ è¤‡æ•°æšä¸€æ‹¬å‡¦ç†
â”‚  â”‚  â”‚  â””â”€ è‡ªå‹•å‚¾ãè£œæ­£
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ å‰å‡¦ç†
â”‚  â”‚     â”œâ”€ ç”»è³ªå‘ä¸Š(è¶…è§£åƒ)
â”‚  â”‚     â”œâ”€ ãƒã‚¤ã‚ºé™¤å»
â”‚  â”‚     â”œâ”€ ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆèª¿æ•´
â”‚  â”‚     â””â”€ æ­ªã¿è£œæ­£
â”‚  â”‚
â”‚  â”œâ”€ OCRå‡¦ç†ã‚¨ãƒ³ã‚¸ãƒ³
â”‚  â”‚  â”œâ”€ æ—¥æœ¬èªå¯¾å¿œ
â”‚  â”‚  â”‚  â”œâ”€ ã²ã‚‰ãŒãªãƒ»ã‚«ã‚¿ã‚«ãƒŠ
â”‚  â”‚  â”‚  â”œâ”€ æ¼¢å­—(å¸¸ç”¨æ¼¢å­—+æ•™è‚²æ¼¢å­—)
â”‚  â”‚  â”‚  â””â”€ æ—§å­—ä½“ãƒ»ç•°ä½“å­—
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ è‹±èªå¯¾å¿œ
â”‚  â”‚  â”‚  â”œâ”€ æ´»å­—ä½“
â”‚  â”‚  â”‚  â””â”€ ç­†è¨˜ä½“
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ æ•°å¼å¯¾å¿œ
â”‚  â”‚  â”‚  â”œâ”€ å››å‰‡æ¼”ç®—
â”‚  â”‚  â”‚  â”œâ”€ åˆ†æ•°ãƒ»ãƒ«ãƒ¼ãƒˆ
â”‚  â”‚  â”‚  â”œâ”€ ç©åˆ†ãƒ»å¾®åˆ†è¨˜å·
â”‚  â”‚  â”‚  â””â”€ è¡Œåˆ—ãƒ»ãƒ™ã‚¯ãƒˆãƒ«
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ æ‰‹æ›¸ãæ–‡å­—èªè­˜
â”‚  â”‚     â”œâ”€ ç™–å­—å¯¾å¿œ
â”‚  â”‚     â”œâ”€ å­¦ç¿’æ©Ÿèƒ½(å€‹äººæœ€é©åŒ–)
â”‚  â”‚     â””â”€ ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢è¡¨ç¤º
â”‚  â”‚
â”‚  â”œâ”€ ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ãƒ»ä¿®æ­£
â”‚  â”‚  â”œâ”€ èªè­˜çµæœè¡¨ç¤º
â”‚  â”‚  â”‚  â”œâ”€ å…ƒç”»åƒã¨ä¸¦åˆ—è¡¨ç¤º
â”‚  â”‚  â”‚  â”œâ”€ ä¿¡é ¼åº¦ãƒã‚¤ãƒ©ã‚¤ãƒˆ
â”‚  â”‚  â”‚  â”‚  â”œâ”€ é«˜ä¿¡é ¼åº¦: ç·‘
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ä¸­ä¿¡é ¼åº¦: é»„
â”‚  â”‚  â”‚  â”‚  â””â”€ ä½ä¿¡é ¼åº¦: èµ¤
â”‚  â”‚  â”‚  â””â”€ èª¤èªè­˜å€™è£œè¡¨ç¤º
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ æ‰‹å‹•ä¿®æ­£
â”‚  â”‚  â”‚  â”œâ”€ ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†
â”‚  â”‚  â”‚  â”œâ”€ å€™è£œé¸æŠ
â”‚  â”‚  â”‚  â””â”€ å‰Šé™¤ãƒ»è¿½åŠ 
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿æŒ
â”‚  â”‚     â”œâ”€ æ”¹è¡Œãƒ»æ®µè½ç¶­æŒ
â”‚  â”‚     â”œâ”€ ç®‡æ¡æ›¸ãæ¤œå‡º
â”‚  â”‚     â””â”€ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¾©å…ƒ
â”‚  â”‚
â”‚  â””â”€ å‡ºåŠ›ãƒ»ä¿å­˜
â”‚     â”œâ”€ ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚     â”œâ”€ Markdownå½¢å¼
â”‚     â”œâ”€ Wordæ–‡æ›¸(.docx)
â”‚     â”œâ”€ PDF(æ¤œç´¢å¯èƒ½)
â”‚     â””â”€ ãƒãƒ¼ãƒˆã«ç›´æ¥æŒ¿å…¥
â”‚
â”œâ”€ ã€NEWã€‘AIæ€è€ƒæ•´ç†ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ (v2.1.0)
â”‚  â”‚
â”‚  â”œâ”€ è‡ªå‹•è¦ç´„æ©Ÿèƒ½
â”‚  â”‚  â”œâ”€ ãƒãƒ¼ãƒˆè¦ç´„
â”‚  â”‚  â”‚  â”œâ”€ é•·æ–‡ãƒãƒ¼ãƒˆâ†’è¦ç‚¹æŠ½å‡º
â”‚  â”‚  â”‚  â”œâ”€ è¦ç´„ãƒ¬ãƒ™ãƒ«é¸æŠ
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ç°¡æ½”(50å­—)
â”‚  â”‚  â”‚  â”‚  â”œâ”€ æ¨™æº–(200å­—)
â”‚  â”‚  â”‚  â”‚  â””â”€ è©³ç´°(500å­—)
â”‚  â”‚  â”‚  â””â”€ ç®‡æ¡æ›¸ãå‡ºåŠ›
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ è¤‡æ•°ãƒãƒ¼ãƒˆçµ±åˆ
â”‚  â”‚  â”‚  â”œâ”€ ãƒ†ãƒ¼ãƒåˆ¥ã¾ã¨ã‚
â”‚  â”‚  â”‚  â”œâ”€ æ™‚ç³»åˆ—æ•´ç†
â”‚  â”‚  â”‚  â””â”€ é–¢é€£æ€§åˆ†æ
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ å­¦ç¿’ç”¨è¦ç´„
â”‚  â”‚     â”œâ”€ æš—è¨˜ã‚«ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆ
â”‚  â”‚     â”œâ”€ é‡è¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º
â”‚  â”‚     â””â”€ å•é¡Œå½¢å¼å¤‰æ›
â”‚  â”‚
â”‚  â”œâ”€ ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—è‡ªå‹•ç”Ÿæˆ
â”‚  â”‚  â”œâ”€ ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—
â”‚  â”‚  â”‚  â”œâ”€ ä¸­å¿ƒãƒˆãƒ”ãƒƒã‚¯æŠ½å‡º
â”‚  â”‚  â”‚  â”œâ”€ éšå±¤æ§‹é€ åˆ†æ
â”‚  â”‚  â”‚  â”œâ”€ é–¢é€£èªã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°
â”‚  â”‚  â”‚  â””â”€ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«é…ç½®æœ€é©åŒ–
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
â”‚  â”‚  â”‚  â”œâ”€ è‰²ãƒ»å½¢çŠ¶å¤‰æ›´
â”‚  â”‚  â”‚  â”œâ”€ ãƒãƒ¼ãƒ‰è¿½åŠ ãƒ»å‰Šé™¤
â”‚  â”‚  â”‚  â”œâ”€ æ¥ç¶šç·šç·¨é›†
â”‚  â”‚  â”‚  â””â”€ ã‚¢ã‚¤ã‚³ãƒ³è¿½åŠ 
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚  â”‚     â”œâ”€ ç”»åƒ(PNG/SVG)
â”‚  â”‚     â”œâ”€ PDF
â”‚  â”‚     â””â”€ ç·¨é›†å¯èƒ½å½¢å¼
â”‚  â”‚
â”‚  â”œâ”€ æ€è€ƒæ•´ç†æ”¯æ´
â”‚  â”‚  â”œâ”€ è«–ç†æ§‹é€ åˆ†æ
â”‚  â”‚  â”‚  â”œâ”€ ä¸»å¼µãƒ»æ ¹æ‹ ã®æŠ½å‡º
â”‚  â”‚  â”‚  â”œâ”€ çŸ›ç›¾ç‚¹æŒ‡æ‘˜
â”‚  â”‚  â”‚  â””â”€ è«–ç†ã®é£›èºæ¤œå‡º
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ ãƒ¡ãƒ¢æ•´ç†ææ¡ˆ
â”‚  â”‚  â”‚  â”œâ”€ ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ææ¡ˆ
â”‚  â”‚  â”‚  â”œâ”€ å„ªå…ˆé †ä½ä»˜ã‘
â”‚  â”‚  â”‚  â””â”€ ã‚¿ã‚¹ã‚¯æŠ½å‡º
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ è£œè¶³æƒ…å ±æä¾›
â”‚  â”‚     â”œâ”€ é–¢é€£æ¦‚å¿µèª¬æ˜
â”‚  â”‚     â”œâ”€ å…·ä½“ä¾‹æç¤º
â”‚  â”‚     â””â”€ å‚è€ƒè³‡æ–™ãƒªãƒ³ã‚¯
â”‚  â”‚
â”‚  â”œâ”€ å­¦ç¿’ã‚¢ãƒ‰ãƒã‚¤ã‚¹
â”‚  â”‚  â”œâ”€ ç†è§£åº¦åˆ†æ
â”‚  â”‚  â”‚  â”œâ”€ ãƒãƒ¼ãƒˆå†…å®¹è©•ä¾¡
â”‚  â”‚  â”‚  â”œâ”€ ç†è§£ã®ç©´ç™ºè¦‹
â”‚  â”‚  â”‚  â””â”€ å¼±ç‚¹å…‹æœææ¡ˆ
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ å­¦ç¿’è¨ˆç”»ææ¡ˆ
â”‚  â”‚  â”‚  â”œâ”€ å¾©ç¿’ã‚¿ã‚¤ãƒŸãƒ³ã‚°
â”‚  â”‚  â”‚  â”œâ”€ æ¬¡ã«å­¦ã¶ã¹ãå†…å®¹
â”‚  â”‚  â”‚  â””â”€ åŠ¹ç‡çš„å­¦ç¿’é †åº
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ è¨˜æ†¶å®šç€æ”¯æ´
â”‚  â”‚     â”œâ”€ èªå‘‚åˆã‚ã›ç”Ÿæˆ
â”‚  â”‚     â”œâ”€ ã‚¤ãƒ¡ãƒ¼ã‚¸é€£æƒ³æ³•
â”‚  â”‚     â””â”€ ã‚¹ãƒˆãƒ¼ãƒªãƒ¼åŒ–
â”‚  â”‚
â”‚  â””â”€ è³ªå•å¿œç­”æ©Ÿèƒ½
â”‚     â”œâ”€ ãƒãƒ¼ãƒˆå†…å®¹ã¸ã®è³ªå•
â”‚     â”‚  â”œâ”€ ã€Œã“ã‚Œã¯ã©ã†ã„ã†æ„å‘³?ã€
â”‚     â”‚  â”œâ”€ ã€Œã‚‚ã£ã¨è©³ã—ãæ•™ãˆã¦ã€
â”‚     â”‚  â””â”€ ã€Œä¾‹ã‚’æ•™ãˆã¦ã€
â”‚     â”‚
â”‚     â”œâ”€ ç™ºå±•çš„è³ªå•
â”‚     â”‚  â”œâ”€ ã€Œå¿œç”¨å•é¡Œã‚’å‡ºã—ã¦ã€
â”‚     â”‚  â”œâ”€ ã€Œå®Ÿä¸–ç•Œã§ã®ä½¿ã„æ–¹ã¯?ã€
â”‚     â”‚  â””â”€ ã€Œé–¢é€£ã™ã‚‹ä»–ã®æ¦‚å¿µã¯?ã€
â”‚     â”‚
â”‚     â””â”€ å¯¾è©±å±¥æ­´ä¿å­˜
â”‚        â”œâ”€ è³ªå•ãƒ»å›ç­”è¨˜éŒ²
â”‚        â”œâ”€ ãƒãƒ¼ãƒˆã«è¿½è¨˜
â”‚        â””â”€ å¾Œã§å¾©ç¿’å¯èƒ½
â”‚
â”œâ”€ (æ—¢å­˜æ©Ÿèƒ½: å­¦ç¿’ç®¡ç†ãƒ»ãƒ“ãƒ‡ã‚ªä¼šè­°ãƒ»èª²é¡Œã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ç­‰)
â”‚
â””â”€ ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ‹¡å¼µã€‘
   â””â”€ ç”Ÿå¾’ç”¨
      â”œâ”€ ã€NEWã€‘ãƒãƒ¼ãƒˆã‚µãƒãƒªãƒ¼
      â”‚  â”œâ”€ ä»Šé€±ä½œæˆã—ãŸãƒãƒ¼ãƒˆ
      â”‚  â”œâ”€ AIè¦ç´„æ¸ˆã¿ãƒãƒ¼ãƒˆ
      â”‚  â””â”€ å…±æœ‰ã•ã‚ŒãŸãƒãƒ¼ãƒˆ
      â”‚
      â””â”€ ã€NEWã€‘å­¦ç¿’ã‚¤ãƒ³ã‚µã‚¤ãƒˆ
         â”œâ”€ ã‚ˆãæ›¸ãã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
         â”œâ”€ å­¦ç¿’æ™‚é–“(ãƒãƒ¼ãƒˆä½œæˆ)
         â””â”€ ç†è§£åº¦ã‚¹ã‚³ã‚¢(AIåˆ†æ)
```

### 5.2 å„ªå…ˆåº¦åˆ¥æ©Ÿèƒ½ãƒªã‚¹ãƒˆ(v2.1.0è¿½åŠ )

#### ğŸŸ¡ Should Have (Phase 3.5 - ãƒãƒ¼ãƒˆæ©Ÿèƒ½)

| æ©Ÿèƒ½ID | æ©Ÿèƒ½å | èª¬æ˜ | å·¥æ•° |
|--------|--------|------|------|
| F050 | ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ãƒˆåŸºç›¤ | Canvasæç”»ã‚¨ãƒ³ã‚¸ãƒ³ | 10æ—¥ |
| F051 | æç”»ãƒ„ãƒ¼ãƒ« | ãƒšãƒ³ãƒ»å›³å½¢ãƒ»æ¶ˆã—ã‚´ãƒ  | 10æ—¥ |
| F052 | PDFæ³¨é‡ˆ | PDFãƒ“ãƒ¥ãƒ¼ã‚¢+æç”» | 7æ—¥ |
| F053 | ç”»åƒæ³¨é‡ˆ | ç”»åƒè¡¨ç¤º+æç”» | 5æ—¥ |
| F054 | ãƒ†ã‚­ã‚¹ãƒˆãƒ„ãƒ¼ãƒ« | ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹æŒ¿å…¥ | 5æ—¥ |
| F055 | ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç† | ãƒ¬ã‚¤ãƒ¤ãƒ¼æ“ä½œUI | 5æ—¥ |

**Phase 3.5 åˆè¨ˆ**: ç´„42æ—¥ (2ãƒ¶æœˆ)

#### ğŸŸ¡ Should Have (Phase 4.5 - OCRãƒ»AI)

| æ©Ÿèƒ½ID | æ©Ÿèƒ½å | èª¬æ˜ | å·¥æ•° |
|--------|--------|------|------|
| F060 | OCRçµ±åˆ | Google Cloud Vision API | 7æ—¥ |
| F061 | ç”»åƒå‰å‡¦ç† | ç”»è³ªå‘ä¸Šãƒ»è£œæ­£ | 5æ—¥ |
| F062 | ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†UI | èªè­˜çµæœä¿®æ­£ | 5æ—¥ |
| F063 | æ‰‹æ›¸ãèªè­˜ | æ—¥æœ¬èªæ‰‹æ›¸ãå¯¾å¿œ | 7æ—¥ |
| F064 | AIè¦ç´„ | GPT-4è¦ç´„æ©Ÿèƒ½ | 7æ—¥ |
| F065 | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ç”Ÿæˆ | è‡ªå‹•æ§‹é€ åŒ– | 10æ—¥ |
| F066 | å­¦ç¿’ã‚¢ãƒ‰ãƒã‚¤ã‚¹ | AIåˆ†æãƒ»ææ¡ˆ | 7æ—¥ |

**Phase 4.5 åˆè¨ˆ**: ç´„48æ—¥ (2ãƒ¶æœˆ)

---

## 7. æŠ€è¡“è¦æ±‚ (v2.1.0æ‹¡å¼µç‰ˆ)

### 7.1 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å…¨ä½“åƒ(v2.1.0)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Vercel)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Next.js 15.0.x (App Router)             â”‚
â”‚ React 19.x                              â”‚
â”‚ TypeScript 5.3.x                        â”‚
â”‚ Three.js / React Three Fiber            â”‚
â”‚ Socket.io-client 4.x                    â”‚
â”‚ mediasoup-client (WebRTC SFU)           â”‚
â”‚                                         â”‚
â”‚ ã€NEWã€‘ãƒãƒ¼ãƒˆãƒ»æç”»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª            â”‚
â”‚ - fabric.js 6.x (Canvasæç”»)            â”‚
â”‚ - react-pdf 7.x (PDFè¡¨ç¤º)               â”‚
â”‚ - pdfjs-dist 3.x (PDFå‡¦ç†)              â”‚
â”‚ - react-signature-canvas (æ‰‹æ›¸ã)       â”‚
â”‚ - konva (é«˜åº¦ãªæç”»)                     â”‚
â”‚                                         â”‚
â”‚ ã€NEWã€‘ç”»åƒå‡¦ç†                          â”‚
â”‚ - browser-image-compression (åœ§ç¸®)      â”‚
â”‚ - cropperjs (ãƒˆãƒªãƒŸãƒ³ã‚°)                 â”‚
â”‚                                         â”‚
â”‚ ã€NEWã€‘æ•°å¼ãƒ»å›³è¡¨                        â”‚
â”‚ - katex (æ•°å¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°)               â”‚
â”‚ - mermaid (ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ )                 â”‚
â”‚ - react-flow (ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ)            â”‚
â”‚                                         â”‚
â”‚ Zustand (çŠ¶æ…‹ç®¡ç†)                       â”‚
â”‚ TailwindCSS + shadcn/ui                 â”‚
â”‚ Chart.js (ã‚°ãƒ©ãƒ•)                        â”‚
â”‚ react-dropzone (ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†• HTTPS/WSS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Render)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node.js 20.x LTS                        â”‚
â”‚ Express.js 4.x                          â”‚
â”‚ TypeScript 5.3.x                        â”‚
â”‚ Socket.io 4.x                           â”‚
â”‚ mediasoup 3.x (WebRTC SFU)              â”‚
â”‚ Prisma 5.x (ORM)                        â”‚
â”‚ JWT (jsonwebtoken)                      â”‚
â”‚ bcryptjs                                â”‚
â”‚ multer (ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰)             â”‚
â”‚ sharp (ç”»åƒå‡¦ç†)                         â”‚
â”‚                                         â”‚
â”‚ ã€NEWã€‘PDFå‡¦ç†                           â”‚
â”‚ - pdf-lib 1.x (PDFæ“ä½œ)                 â”‚
â”‚ - pdf-parse (PDFè§£æ)                   â”‚
â”‚                                         â”‚
â”‚ ã€NEWã€‘OCRãƒ©ã‚¤ãƒ–ãƒ©ãƒª                     â”‚
â”‚ - @google-cloud/vision (Google Vision) â”‚
â”‚ - tesseract.js (ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹OCR)       â”‚
â”‚                                         â”‚
â”‚ ã€NEWã€‘AIå‡¦ç†                            â”‚
â”‚ - OpenAI API (GPT-4o-mini)              â”‚
â”‚ - Anthropic Claude API (ä»£æ›¿)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (Supabase)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PostgreSQL 15.x                         â”‚
â”‚ (ç„¡æ–™æ : 500MB DB, 1GB Storage)          â”‚
â”‚                                         â”‚
â”‚ ã€NEWã€‘ãƒãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ç®¡ç†                  â”‚
â”‚  â”œâ”€ ãƒãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿(DB)                 â”‚
â”‚  â”œâ”€ æç”»ãƒ‡ãƒ¼ã‚¿(JSON in DB)              â”‚
â”‚  â””â”€ ç”»åƒãƒ»PDFãƒ•ã‚¡ã‚¤ãƒ«(Storage)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ã‚­ãƒ£ãƒƒã‚·ãƒ¥ (Upstash)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Redis (ç„¡æ–™æ : 10,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥)       â”‚
â”‚ - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†                         â”‚
â”‚ - Rate Limiting                         â”‚
â”‚ ã€NEWã€‘OCRçµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ã€NEWã€‘å¤–éƒ¨AI Services            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OpenAI API (GPT-4o-mini)                â”‚
â”‚ - AIè¦ç´„                                â”‚
â”‚ - å­¦ç¿’ã‚¢ãƒ‰ãƒã‚¤ã‚¹                         â”‚
â”‚ - ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ç”Ÿæˆ                     â”‚
â”‚                                         â”‚
â”‚ Google Cloud Vision API                 â”‚
â”‚ - OCRå‡¦ç†                               â”‚
â”‚ - æ‰‹æ›¸ãæ–‡å­—èªè­˜                         â”‚
â”‚ (ç„¡æ–™æ : 1,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æœˆ)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
